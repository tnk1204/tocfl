<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>√în t·∫≠p T·ª´ v·ª±ng TOCFL A1</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Chosen Palette: Slate & Blue -->
    <!-- Application Structure Plan: The app is a single-page dashboard for vocabulary learning. The core structure features a control panel for filtering and initiating practice modes, and a main grid for vocabulary exploration. This update introduces a new 'Review Mode' alongside the existing 'Quiz Mode', both launched via modals. This dual-mode approach caters to different learning styles: active recall via quizzes and spaced repetition via focused review. The information architecture is designed for task-oriented learning (browse, search, quiz, review) rather than a static presentation. -->
    <!-- Visualization & Content Choices: Data is presented as interactive flashcards. Goal: Memorization. Method: Interactive Cards & Modals. Interaction: Flip cards, use text-to-speech, take quizzes, and use a focused review mode with self-assessment. Justification: These methods are based on proven learning techniques like active recall and spaced repetition, significantly boosting memory retention over passive reading. All elements are built with HTML/CSS. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
<body class="bg-slate-50 text-slate-800">

    <div class="container mx-auto p-4 md:p-8">
        <header class="text-center mb-8">
            <h1 class="text-3xl md:text-4xl font-bold text-slate-900">C√¥ng c·ª• √în t·∫≠p T·ª´ v·ª±ng TOCFL A1</h1>
            <p class="text-slate-600 mt-2">S√°ch "A Course in Contemporary Chinese" - B√†i 1 ƒë·∫øn 15</p>
        </header>

        <div class="sticky top-0 bg-slate-50/80 backdrop-blur-sm z-10 py-4 mb-6">
            <div class="flex flex-col md:flex-row gap-4 max-w-5xl mx-auto items-end">
                <div class="flex-grow w-full md:w-1/3">
                    <label for="lesson-filter" class="block text-sm font-medium text-slate-700 mb-1">L·ªçc</label>
                    <select id="lesson-filter" class="w-full p-3 bg-white border border-slate-300 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition">
                        <option value="all">T·∫•t c·∫£ b√†i h·ªçc</option>
                    </select>
                </div>
                <div class="flex-grow w-full md:w-1/3">
                     <label for="search-input" class="block text-sm font-medium text-slate-700 mb-1">T√¨m ki·∫øm</label>
                    <input type="text" id="search-input" placeholder="Nh·∫≠p t·ª´..." class="w-full p-3 bg-white border border-slate-300 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition">
                </div>
                <div class="w-full md:w-auto flex gap-2">
                    <button id="review-btn" class="flex-1 w-full bg-green-600 text-white font-semibold p-3 rounded-lg shadow-md hover:bg-green-700 transition flex items-center justify-center gap-2 relative">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path d="M10 12a2 2 0 100-4 2 2 0 000 4z" /><path fill-rule="evenodd" d="M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z" clip-rule="evenodd" /></svg>
                        <span id="review-btn-text">√în t·∫≠p</span>
                        <span id="review-count" class="absolute -top-2 -right-2 text-white text-xs font-bold rounded-full h-6 w-6 flex items-center justify-center border-2 border-white"></span>
                    </button>
                    <button id="practice-btn" class="flex-1 w-full bg-blue-600 text-white font-semibold p-3 rounded-lg shadow-md hover:bg-blue-700 transition flex items-center justify-center gap-2">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M11.3 1.046A1 1 0 0112 2v1.946l4.061 4.061a1 1 0 01-1.414 1.414l-4.5-4.5a1 1 0 011.653-1.653zM4.646 4.646a1 1 0 011.414 0L10 8.586l3.94-3.94a1 1 0 111.414 1.414L11.414 10l3.94 3.94a1 1 0 11-1.414 1.414L10 11.414l-3.94 3.94a1 1 0 01-1.414-1.414L8.586 10 4.646 6.06a1 1 0 010-1.414z" clip-rule="evenodd" /></svg>
                        Luy·ªán t·∫≠p
                    </button>
                    <button id="vocabulary-btn" class="flex-1 w-full bg-purple-600 text-white font-semibold p-3 rounded-lg shadow-md hover:bg-purple-700 transition flex items-center justify-center gap-2">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>
                        T·ª´ v·ª±ng
                    </button>
                </div>
            </div>
             <p id="word-count" class="text-center text-slate-500 mt-4 text-sm"></p>
        </div>

        <main id="vocab-grid" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4 md:gap-6">
        </main>
        
        <footer class="text-center mt-12 text-slate-500 text-sm">
            <p>Nh·∫•n v√†o th·∫ª ƒë·ªÉ l·∫≠t. Nh·∫•n üîä ƒë·ªÉ nghe ph√°t √¢m.</p>
            <button id="reset-srs-btn" class="mt-4 text-xs text-slate-400 hover:text-red-500 hover:underline">Reset to√†n b·ªô ti·∫øn ƒë·ªô √¥n t·∫≠p</button>
        </footer>
    </div>
    
    <div id="quiz-modal" class="modal-base fixed inset-0 bg-black bg-opacity-50 justify-center items-center z-50">
        <div class="bg-white rounded-lg shadow-2xl p-6 md:p-8 w-11/12 max-w-lg transform transition-all scale-95 opacity-0" id="quiz-modal-content">
             <div id="quiz-setup">
                <h2 class="text-2xl font-bold mb-4">Ch·∫ø ƒë·ªô Luy·ªán t·∫≠p</h2>
                <p class="text-slate-600 mb-6">Ch·ªçn h√¨nh th·ª©c v√† n·ªôi dung ƒë·ªÉ b·∫Øt ƒë·∫ßu b√†i ki·ªÉm tra.</p>
                <div class="mb-6">
                    <label class="block text-sm font-medium text-slate-700 mb-2">H√¨nh th·ª©c</label>
                    <select id="quiz-type" class="w-full p-3 bg-white border border-slate-300 rounded-lg">
                        <option value="char-to-meaning">Ch·ªØ H√°n ‚Üí Nghƒ©a</option>
                        <option value="pinyin-to-meaning">Pinyin ‚Üí Nghƒ©a</option>
                        <option value="meaning-to-char">Nghƒ©a ‚Üí Ch·ªØ H√°n</option>
                        <option value="audio-to-meaning">Nghe & Ch·ªçn Nghƒ©a</option>
                        <option value="char-to-type-pinyin">Ch·ªØ H√°n ‚Üí G√µ Pinyin</option>
                        <option value="char-to-pinyin">Ch·ªØ H√°n ‚Üí Pinyin</option>
                        <option value="listening-comprehension">Nghe hi·ªÉu</option>
                        <option value="reading-comprehension">ƒê·ªçc hi·ªÉu</option>
                    </select>
                </div>
                 <div class="mb-6">
                    <label class="block text-sm font-medium text-slate-700 mb-2">N·ªôi dung</label>
                    <select id="quiz-source" class="w-full p-3 bg-white border border-slate-300 rounded-lg">
                        <option value="current">T·ª´ ƒëang l·ªçc</option>
                        <option value="all">T·∫•t c·∫£ t·ª´ v·ª±ng</option>
                    </select>
                </div>
                <div class="flex justify-end gap-4">
                    <button id="close-quiz-setup-btn" class="px-6 py-2 bg-slate-200 text-slate-800 rounded-lg hover:bg-slate-300 transition">H·ªßy</button>
                    <button id="start-quiz-btn" class="px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition">B·∫Øt ƒë·∫ßu</button>
                </div>
            </div>
            
            <div id="quiz-main" class="hidden">
                 <div class="flex justify-between items-center mb-4">
                    <h2 class="text-2xl font-bold">Tr·∫Øc nghi·ªám</h2>
                    <div class="flex items-center gap-4">
                        <button id="quiz-replay-audio-btn" class="hidden text-slate-500 hover:text-blue-600 focus:outline-none">
                           <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" viewBox="0 0 20 20" fill="currentColor">
                                <path d="M10 3a1 1 0 011 1v1.468a1 1 0 01-.317.727l-1.882 1.882a4.995 4.995 0 00-5.496 5.496l-1.882 1.882A1 1 0 011 14.532V16a1 1 0 01-2 0v-1.468a1 1 0 01.317-.727l10-10A1 1 0 0110 3zm6.317 11.273l-1.882-1.882A4.995 4.995 0 008.938 6.938l-1.882-1.882A1 1 0 018 3.468V2a1 1 0 112 0v1.468a1 1 0 01-.317.727l-1.47 1.47A7.002 7.002 0 0117 11c0 1.258-.33 2.44-.913 3.473a1 1 0 01-1.77-.801zM4.913 14.473A7.003 7.003 0 013 11c0-2.286 1.08-4.32 2.76-5.553a1 1 0 111.16 1.63A4.998 4.998 0 005 11c0 1.258.33 2.44.913 3.473a1 1 0 01-1.77.801z"/>
                           </svg>
                        </button>
                        <p id="quiz-progress" class="text-slate-500"></p>
                    </div>
                 </div>
                 <div id="quiz-question-card" class="bg-slate-100 p-8 rounded-lg text-center mb-6 min-h-[120px] flex items-center justify-center transition">
                    <div>
                        <div id="quiz-question" class="text-4xl font-semibold"></div>
                        <p id="quiz-question-hint" class="text-slate-500 mt-2"></p>
                    </div>
                 </div>
                 <div id="quiz-options" class="grid grid-cols-1 md:grid-cols-2 gap-4"></div>
                 <div id="quiz-feedback" class="mt-4 text-center font-semibold h-6"></div>
            </div>

             <div id="quiz-results" class="hidden text-center">
                <h2 class="text-2xl font-bold mb-4">K·∫øt qu·∫£</h2>
                <p id="quiz-score" class="text-5xl font-bold text-blue-600 mb-4"></p>
                <div id="quiz-wrong-answers" class="max-h-60 overflow-y-auto my-4 text-left p-4 bg-slate-50 rounded-lg border"></div>
                <div class="flex flex-wrap justify-center gap-4">
                    <button id="quiz-review-wrong-btn" class="px-6 py-3 bg-red-500 text-white rounded-lg hover:bg-red-600 transition hidden">√în l·∫°i c√¢u sai</button>
                    <button id="quiz-restart-btn" class="px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition">L√†m l·∫°i</button>
                    <button id="quiz-close-btn" class="px-6 py-3 bg-slate-200 text-slate-800 rounded-lg hover:bg-slate-300 transition">ƒê√≥ng</button>
                </div>
            </div>
        </div>
    </div>
    
    <div id="review-modal" class="modal-base fixed inset-0 bg-slate-900 bg-opacity-80 justify-center items-center z-50 p-4">
        <div class="bg-white rounded-lg shadow-2xl p-6 md:p-8 w-full max-w-2xl transform transition-all scale-95 opacity-0" id="review-modal-content">
             <div class="flex justify-between items-center mb-4">
                <h2 class="text-2xl font-bold">Ch·∫ø ƒë·ªô √în t·∫≠p Th√¥ng minh</h2>
                <button id="review-close-btn" class="text-slate-500 hover:text-slate-800 text-2xl leading-none">&times;</button>
             </div>
             <p id="review-progress" class="text-center text-slate-500 mb-4"></p>
             <div id="review-card-container" class="h-64">
                 <div class="flashcard h-full">
                    <div class="flashcard-inner">
                        <div id="review-card-front" class="flashcard-front bg-slate-100 shadow-md"></div>
                        <div id="review-card-back" class="flashcard-back bg-blue-600 text-white shadow-md"></div>
                    </div>
                 </div>
             </div>
             <div id="review-difficulty-buttons" class="mt-6 flex justify-around hidden">
                 <button data-difficulty="1" class="btn-difficulty border-2 border-transparent w-1/3 py-3 rounded-lg bg-red-500 text-white font-semibold hover:bg-red-600 transition">Kh√≥</button>
                 <button data-difficulty="2" class="btn-difficulty border-2 border-transparent w-1/3 py-3 mx-4 rounded-lg bg-yellow-500 text-white font-semibold hover:bg-yellow-600 transition">V·ª´a</button>
                 <button data-difficulty="3" class="btn-difficulty border-2 border-transparent w-1/3 py-3 rounded-lg bg-green-500 text-white font-semibold hover:bg-green-600 transition">D·ªÖ</button>
             </div>
        </div>
    </div>

    <div id="vocabulary-modal" class="modal-base fixed inset-0 bg-black bg-opacity-50 justify-center items-center z-50">
        <div class="bg-white rounded-lg shadow-2xl p-6 md:p-8 w-11/12 max-w-4xl transform transition-all scale-95 opacity-0" id="vocabulary-modal-content">
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-2xl font-bold">H·ªçc t·ª´ v·ª±ng n√¢ng cao</h2>
                <button id="vocabulary-close-btn" class="text-slate-500 hover:text-slate-800 text-2xl leading-none">&times;</button>
            </div>
            
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                <div class="bg-slate-50 p-6 rounded-lg">
                    <h3 class="text-lg font-semibold mb-4">Flashcard n√¢ng cao</h3>
                    <div id="advanced-flashcard" class="bg-white rounded-lg shadow-md p-6 min-h-[200px] flex flex-col justify-center items-center">
                        <div id="flashcard-char" class="text-4xl font-bold text-slate-800 mb-2"></div>
                        <div id="flashcard-pinyin" class="text-lg text-slate-600 mb-2"></div>
                        <div id="flashcard-meaning" class="text-base text-slate-700 mb-4"></div>
                        <div class="flex gap-2">
                            <button id="play-slow-btn" class="px-3 py-1 bg-blue-500 text-white rounded text-sm hover:bg-blue-600">Ch·∫≠m</button>
                            <button id="play-normal-btn" class="px-3 py-1 bg-green-500 text-white rounded text-sm hover:bg-green-600">B√¨nh th∆∞·ªùng</button>
                            <button id="play-fast-btn" class="px-3 py-1 bg-purple-500 text-white rounded text-sm hover:bg-purple-600">Nhanh</button>
                        </div>
                    </div>
                    <div class="flex justify-between mt-4">
                        <button id="prev-card-btn" class="px-4 py-2 bg-slate-200 text-slate-800 rounded hover:bg-slate-300">‚Üê Tr∆∞·ªõc</button>
                        <span id="card-counter" class="text-slate-600"></span>
                        <button id="next-card-btn" class="px-4 py-2 bg-slate-200 text-slate-800 rounded hover:bg-slate-300">Sau ‚Üí</button>
                    </div>
                </div>

                <div class="bg-slate-50 p-6 rounded-lg">
                    <h3 class="text-lg font-semibold mb-4">Ghi ch√∫ c√° nh√¢n</h3>
                    <div class="mb-4">
                        <label class="block text-sm font-medium text-slate-700 mb-2">T·ª´ hi·ªán t·∫°i:</label>
                        <div id="current-word-display" class="text-lg font-semibold text-slate-800 mb-2"></div>
                    </div>
                    <div class="mb-4">
                        <label for="personal-note" class="block text-sm font-medium text-slate-700 mb-2">Ghi ch√∫:</label>
                        <textarea id="personal-note" rows="4" class="w-full p-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500" placeholder="Ghi ch√∫ v·ªÅ t·ª´ n√†y..."></textarea>
                    </div>
                    <div class="flex gap-2">
                        <button id="save-note-btn" class="px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700">L∆∞u ghi ch√∫</button>
                        <button id="clear-note-btn" class="px-4 py-2 bg-slate-200 text-slate-800 rounded hover:bg-slate-300">X√≥a</button>
                    </div>
                </div>
            </div>

            <div class="mt-6 bg-slate-50 p-6 rounded-lg">
                <h3 class="text-lg font-semibold mb-4">Th·ªëng k√™ h·ªçc t·∫≠p</h3>
                <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                    <div class="text-center">
                        <div id="total-words" class="text-2xl font-bold text-blue-600">0</div>
                        <div class="text-sm text-slate-600">T·ªïng t·ª´</div>
                    </div>
                    <div class="text-center">
                        <div id="learned-words" class="text-2xl font-bold text-green-600">0</div>
                        <div class="text-sm text-slate-600">ƒê√£ h·ªçc</div>
                    </div>
                    <div class="text-center">
                        <div id="review-words" class="text-2xl font-bold text-yellow-600">0</div>
                        <div class="text-sm text-slate-600">C·∫ßn √¥n</div>
                    </div>
                    <div class="text-center">
                        <div id="mastery-rate" class="text-2xl font-bold text-purple-600">0%</div>
                        <div class="text-sm text-slate-600">T·ª∑ l·ªá th√†nh th·∫°o</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="data.js"></script>
    <script src="app.js"></script>
</body>
</html>
