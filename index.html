<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Há»c Tiáº¿ng Trung ÄÆ°Æ¡ng Äáº¡i - NÃ¢ng cao</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Be+Vietnam+Pro:wght@300;400;500;700;800&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Serene Sage & Stone -->
    <!-- Application Structure Plan: á»¨ng dá»¥ng Ä‘Æ°á»£c tÃ¡i cáº¥u trÃºc theo kiáº¿n trÃºc mobile-first, táº­p trung vÃ o má»™t chu trÃ¬nh há»c táº­p hoÃ n chá»‰nh. Thanh Ä‘iá»u hÆ°á»›ng dÆ°á»›i cÃ¹ng (trÃªn di Ä‘á»™ng) lÃ  trung tÃ¢m, cho phÃ©p truy cáº­p nhanh vÃ o cÃ¡c tÃ­nh nÄƒng chÃ­nh: Báº£ng Ä‘iá»u khiá»ƒn (Dashboard), BÃ i há»c, Luyá»‡n viáº¿t, vÃ  Sá»• tay. Cáº¥u trÃºc nÃ y giÃºp ngÆ°á»i dÃ¹ng dá»… dÃ ng chuyá»ƒn Ä‘á»•i giá»¯a viá»‡c há»c kiáº¿n thá»©c má»›i (BÃ i há»c), thá»±c hÃ nh (Luyá»‡n viáº¿t), vÃ  Ã´n táº­p cÃ¡c tá»« Ä‘Ã£ lÆ°u (Sá»• tay). CÃ¡c tÃ­nh nÄƒng Ã´n táº­p (Flashcard) vÃ  kiá»ƒm tra (Quiz) Ä‘Æ°á»£c tÃ­ch há»£p trá»±c tiáº¿p vÃ o tá»«ng bÃ i há»c Ä‘á»ƒ mang láº¡i tráº£i nghiá»‡m há»c táº­p theo ngá»¯ cáº£nh vÃ  cÃ³ má»¥c tiÃªu rÃµ rÃ ng. -->
    <!-- Visualization & Content Choices: 
        - Má»¥c tiÃªu: Cung cáº¥p má»™t bá»™ cÃ´ng cá»¥ há»c táº­p tÆ°Æ¡ng tÃ¡c, toÃ n diá»‡n.
        - TrÃ¬nh bÃ y & TÆ°Æ¡ng tÃ¡c:
            1.  **Dashboard (Báº£ng Ä‘iá»u khiá»ƒn):** LÃ  trang chá»§, cung cáº¥p biá»ƒu Ä‘á»“ tiáº¿n trÃ¬nh tá»« vá»±ng (Chart.js), thá»‘ng kÃª nhanh (sá»‘ tá»« Ä‘Ã£ lÆ°u), vÃ  lá»‘i táº¯t Ä‘áº¿n cÃ¡c tÃ­nh nÄƒng chÃ­nh.
            2.  **Há»c tá»« vá»±ng:** Má»—i tá»« vá»±ng cÃ³ nÃºt phÃ¡t Ã¢m (ğŸ”Š) sá»­ dá»¥ng Web Speech API vÃ  nÃºt lÆ°u vÃ o sá»• tay (â­).
            3.  **Luyá»‡n viáº¿t (Writing Practice):** TÃ­nh nÄƒng má»›i hoÃ n toÃ n, cung cáº¥p má»™t canvas Ä‘á»ƒ ngÆ°á»i dÃ¹ng táº­p viáº¿t chá»¯ HÃ¡n báº±ng chuá»™t hoáº·c cáº£m á»©ng. CÃ³ cÃ¡c nÃºt chá»©c nÄƒng nhÆ° "XÃ³a", "Gá»£i Ã½" (váº½ má» kÃ½ tá»±) vÃ  "Tá»« tiáº¿p theo".
            4.  **Sá»• tay tá»« vá»±ng (Notebook):** TÃ­nh nÄƒng má»›i, hoáº¡t Ä‘á»™ng nhÆ° má»™t bá»™ sÆ°u táº­p cÃ¡ nhÃ¢n. NgÆ°á»i dÃ¹ng cÃ³ thá»ƒ lÆ°u cÃ¡c tá»« khÃ³ hoáº·c quan trá»ng Ä‘á»ƒ Ã´n táº­p táº­p trung.
            5.  **Flashcard & Quiz:** ÄÆ°á»£c tÃ­ch há»£p trong má»—i bÃ i há»c, cho phÃ©p ngÆ°á»i dÃ¹ng Ã´n táº­p vÃ  kiá»ƒm tra kiáº¿n thá»©c cá»§a bÃ i Ä‘Ã³ má»™t cÃ¡ch cá»¥ thá»ƒ.
        - CÄƒn cá»© lá»±a chá»n: CÃ¡c tÃ­nh nÄƒng nÃ y táº¡o ra má»™t vÃ²ng láº·p há»c táº­p hiá»‡u quáº£: Há»c -> LÆ°u -> Thá»±c hÃ nh -> Ã”n táº­p -> Kiá»ƒm tra. Giao diá»‡n Ä‘Æ°á»£c thiáº¿t káº¿ Ä‘á»ƒ há»— trá»£ tá»‘t nháº¥t cho chu trÃ¬nh nÃ y, giÃºp viá»‡c há»c trá»Ÿ nÃªn cÃ³ cáº¥u trÃºc vÃ  háº¥p dáº«n hÆ¡n.
        - ThÆ° viá»‡n/PhÆ°Æ¡ng phÃ¡p: Tailwind CSS, Vanilla JS, Chart.js.
    -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        :root {
            --bg-main: #f8f9fa;
            --bg-secondary: #ffffff;
            --text-primary: #212529;
            --text-secondary: #6c757d;
            --accent: #4a7c59;
            --accent-light: #d8e2dc;
            --border-color: #dee2e6;
        }
        body { font-family: 'Be Vietnam Pro', sans-serif; background-color: var(--bg-main); color: var(--text-primary); }
        .app-shell { display: flex; flex-direction: column; height: 100vh; }
        .main-content-wrapper { display: flex; flex: 1; overflow: hidden; }
        #main-content { flex: 1; overflow-y: auto; padding: 1rem; }
        @media (min-width: 768px) { #main-content { padding: 2rem; } }
        
        #sidebar { transition: transform 0.3s ease-in-out; }
        .bottom-nav-item.active, .sidebar-nav-item.active { background-color: var(--accent-light); color: var(--accent); font-weight: 600; }
        .bottom-nav-item.active .nav-icon, .sidebar-nav-item.active .nav-icon { transform: scale(1.1); }

        .writing-canvas { touch-action: none; }
        .flashcard-container { perspective: 1000px; }
        .flashcard { width: 100%; height: 250px; position: relative; transform-style: preserve-3d; transition: transform 0.6s; cursor: pointer; }
        .flashcard.is-flipped { transform: rotateY(180deg); }
        .flashcard-face { position: absolute; width: 100%; height: 100%; backface-visibility: hidden; display: flex; flex-direction: column; align-items: center; justify-content: center; text-align: center; padding: 20px; border-radius: 1rem; box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1), 0 2px 4px -2px rgba(0,0,0,0.1); }
        .flashcard-front { background-color: var(--bg-secondary); border: 1px solid var(--border-color); }
        .flashcard-back { background-color: var(--accent); color: white; transform: rotateY(180deg); }
        .quiz-option:hover { background-color: #f1f3f5; }
        .quiz-option.correct { background-color: #d4edda !important; border-color: #588157 !important; color: #155724; font-weight: bold; }
        .quiz-option.incorrect { background-color: #f8d7da !important; border-color: #dc3545 !important; color: #721c24; }
    </style>
</head>
<body class="antialiased">

    <div class="app-shell">
        <div class="main-content-wrapper">
            <!-- Sidebar (Desktop) -->
            <aside id="sidebar" class="bg-white w-72 flex-shrink-0 hidden md:flex md:flex-col border-r border-stone-200">
                <div class="p-4 border-b border-stone-200">
                    <h1 class="text-xl font-bold text-stone-700">Há»c Tiáº¿ng Trung</h1>
                    <p class="text-sm text-stone-500">GiÃ¡o trÃ¬nh ÄÆ°Æ¡ng Äáº¡i</p>
                </div>
                <nav class="p-2 space-y-2 flex-1">
                     <button data-view="dashboard" class="sidebar-nav-item w-full text-left px-4 py-2 text-stone-600 hover:bg-stone-100 hover:text-stone-800 rounded-md transition duration-150 flex items-center gap-3">
                        <span class="nav-icon text-xl">ğŸ </span><span>Báº£ng Ä‘iá»u khiá»ƒn</span>
                    </button>
                    <button data-view="lessons" class="sidebar-nav-item w-full text-left px-4 py-2 text-stone-600 hover:bg-stone-100 hover:text-stone-800 rounded-md transition duration-150 flex items-center gap-3">
                        <span class="nav-icon text-xl">ğŸ“š</span><span>BÃ i há»c</span>
                    </button>
                    <button data-view="notebook" class="sidebar-nav-item w-full text-left px-4 py-2 text-stone-600 hover:bg-stone-100 hover:text-stone-800 rounded-md transition duration-150 flex items-center gap-3">
                        <span class="nav-icon text-xl">â­</span><span>Sá»• tay</span>
                    </button>
                    <button data-view="writing" class="sidebar-nav-item w-full text-left px-4 py-2 text-stone-600 hover:bg-stone-100 hover:text-stone-800 rounded-md transition duration-150 flex items-center gap-3">
                        <span class="nav-icon text-xl">âœï¸</span><span>Luyá»‡n viáº¿t</span>
                    </button>
                </nav>
            </aside>
            
            <div class="flex-1 flex flex-col">
                 <!-- Header (Mobile-only) -->
                <header class="md:hidden bg-white p-4 border-b border-stone-200 flex justify-between items-center sticky top-0 z-20">
                    <h1 id="mobile-header-title" class="text-xl font-bold text-stone-700">Báº£ng Ä‘iá»u khiá»ƒn</h1>
                </header>
                <!-- Main Content -->
                <main id="main-content">
                    <!-- Content will be injected here -->
                </main>
            </div>
        </div>
        
        <!-- Bottom Navigation (Mobile) -->
        <nav class="md:hidden bg-white border-t border-stone-200 grid grid-cols-4 shadow-inner">
             <button data-view="dashboard" data-title="Báº£ng Ä‘iá»u khiá»ƒn" class="bottom-nav-item flex flex-col items-center justify-center text-stone-500 w-full py-2">
                <span class="nav-icon text-2xl">ğŸ </span><span class="text-xs">Dashboard</span>
            </button>
            <button data-view="lessons" data-title="BÃ i há»c" class="bottom-nav-item flex flex-col items-center justify-center text-stone-500 w-full py-2">
                <span class="nav-icon text-2xl">ğŸ“š</span><span class="text-xs">BÃ i há»c</span>
            </button>
             <button data-view="writing" data-title="Luyá»‡n viáº¿t" class="bottom-nav-item flex flex-col items-center justify-center text-stone-500 w-full py-2">
                <span class="nav-icon text-2xl">âœï¸</span><span class="text-xs">Luyá»‡n viáº¿t</span>
            </button>
            <button data-view="notebook" data-title="Sá»• tay" class="bottom-nav-item flex flex-col items-center justify-center text-stone-500 w-full py-2">
                <span class="nav-icon text-2xl">â­</span><span class="text-xs">Sá»• tay</span>
            </button>
        </nav>
    </div>

    <script>
        const lessonsData = [
    {
        id: 1,
        title: "BÃ i 1: æ­¡è¿ä½ ä¾†è‡ºç£ï¼",
        vocab: [
            { char: "æ­¡è¿", pinyin: "huÄnyÃ­ng", viet: "Hoan nghÃªnh" }, { char: "ä½ ", pinyin: "nÇ", viet: "Báº¡n" }, { char: "ä¾†", pinyin: "lÃ¡i", viet: "Äáº¿n" }, { char: "è‡ºç£", pinyin: "TÃ¡iwÄn", viet: "ÄÃ i Loan" }, { char: "è«‹å•", pinyin: "qÇngwÃ¨n", viet: "Xin há»i" }, { char: "æ˜¯", pinyin: "shÃ¬", viet: "LÃ " }, { char: "å°å§", pinyin: "xiÇojiÄ›", viet: "CÃ´, tiá»ƒu thÆ°" }, { char: "å—", pinyin: "ma", viet: "(Trá»£ tá»« nghi váº¥n) pháº£i khÃ´ng?" }, { char: "è¬è¬", pinyin: "xiÃ¨xie", viet: "Cáº£m Æ¡n" }, { char: "æ¥", pinyin: "jiÄ“", viet: "ÄÃ³n" }, { char: "æˆ‘å€‘", pinyin: "wÇ’men", viet: "ChÃºng tÃ´i, chÃºng ta" }, { char: "ä¸å®¢æ°£", pinyin: "bÃºkÃ¨qi", viet: "Äá»«ng khÃ¡ch sÃ¡o" }, { char: "æˆ‘", pinyin: "wÇ’", viet: "TÃ´i" }, { char: "é€™", pinyin: "zhÃ¨", viet: "ÄÃ¢y, nÃ y" }, { char: "å…ˆç”Ÿ", pinyin: "xiÄnshÄ“ng", viet: "Ã”ng, ngÃ i, tiÃªn sinh" }, { char: "å¥½", pinyin: "hÇo", viet: "Tá»‘t, khá»e" }, { char: "å§“", pinyin: "xÃ¬ng", viet: "Mang há», há» lÃ " }, { char: "å«", pinyin: "jiÃ o", viet: "TÃªn lÃ , gá»i lÃ " }, { char: "ä½ å€‘", pinyin: "nÇmen", viet: "CÃ¡c báº¡n" }, { char: "è«‹", pinyin: "qÇng", viet: "Má»i" }, { char: "å–", pinyin: "hÄ“", viet: "Uá»‘ng" }, { char: "èŒ¶", pinyin: "chÃ¡", viet: "TrÃ " }, { char: "å¾ˆ", pinyin: "hÄ›n", viet: "Ráº¥t" }, { char: "å¥½å–", pinyin: "hÇohÄ“", viet: "Ngon (dÃ¹ng cho Ä‘á»“ uá»‘ng)" }, { char: "ä»€éº¼", pinyin: "shÃ©nme", viet: "CÃ¡i gÃ¬" }, { char: "äºº", pinyin: "rÃ©n", viet: "NgÆ°á»i" }, { char: "å–œæ­¡", pinyin: "xÇhuÄn", viet: "ThÃ­ch" }, { char: "å‘¢", pinyin: "ne", viet: "(Trá»£ tá»« nghi váº¥n) cÃ²n...thÃ¬ sao?" }, { char: "ä»–", pinyin: "tÄ", viet: "Anh áº¥y, Ã´ng áº¥y" }, { char: "ä¸", pinyin: "bÃ¹", viet: "KhÃ´ng" }, { char: "å“ª", pinyin: "nÇ", viet: "NÃ o" }, { char: "è¦", pinyin: "yÃ o", viet: "Muá»‘n" }, { char: "å’–å•¡", pinyin: "kÄfÄ“i", viet: "CÃ  phÃª" }, { char: "å°ä¸èµ·", pinyin: "duÃ¬bÃ¹qÇ", viet: "Xin lá»—i" }, { char: "åœ‹", pinyin: "guÃ³", viet: "NÆ°á»›c, quá»‘c gia" }, { char: "ç¾åœ‹", pinyin: "MÄ›iguÃ³", viet: "NÆ°á»›c Má»¹" }, { char: "æ—¥æœ¬", pinyin: "RÃ¬bÄ›n", viet: "Nháº­t Báº£n" }, { char: "çƒé¾èŒ¶", pinyin: "WÅ«lÃ³ng chÃ¡", viet: "TrÃ  Ã” Long" }
        ],
        grammar: [{ title: "CÃ¡c cÃ¡ch Ä‘áº·t cÃ¢u há»i", content: "CÃ³ hai cÃ¡ch chÃ­nh: <br>1. <b>A-not-A (ChÃ­nh-Pháº£n):</b> Äá»™ng tá»«/TÃ­nh tá»« + ä¸ + Äá»™ng tá»«/TÃ­nh tá»«? (VÃ­ dá»¥: ä½ æ˜¯ä¸æ˜¯è‡ºç£äººï¼Ÿ) <br>2. <b>Vá»›i å— (ma):</b> CÃ¢u tráº§n thuáº­t + å—? (VÃ­ dá»¥: ä½ æ˜¯è‡ºç£äººå—ï¼Ÿ)" }, { title: "CÃ¡ch tráº£ lá»i cÃ¢u há»i", content: "1. <b>Kháº³ng Ä‘á»‹nh:</b> Láº·p láº¡i Ä‘á»™ng tá»« chÃ­nh. (VÃ­ dá»¥: A: ä½ å–œæ­¡è‡ºç£å—ï¼Ÿ B: å–œæ­¡ã€‚) <br>2. <b>Phá»§ Ä‘á»‹nh:</b> DÃ¹ng ä¸ + Äá»™ng tá»«. (VÃ­ dá»¥: A: ä½ å–å’–å•¡å—ï¼Ÿ B: ä¸å–ã€‚)" }, { title: "PhÃ³ tá»« chá»‰ má»©c Ä‘á»™ å¾ˆ (hÄ›n)", content: "ThÆ°á»ng Ä‘á»©ng trÆ°á»›c tÃ­nh tá»« Ä‘á»ƒ bá»• nghÄ©a, nhÆ°ng Ä‘Ã´i khi chá»‰ Ä‘á»ƒ hoÃ n thÃ nh cáº¥u trÃºc cÃ¢u mÃ  khÃ´ng mang nghÄ©a 'ráº¥t'." }, { title: "CÃ¢u há»i tá»‰nh lÆ°á»£c vá»›i å‘¢ (ne)", content: "DÃ¹ng Ä‘á»ƒ há»i láº¡i vá» má»™t Ä‘á»‘i tÆ°á»£ng khÃ¡c trong cÃ¹ng má»™t ngá»¯ cáº£nh. (VÃ­ dá»¥: æˆ‘å–èŒ¶ï¼Œä½ å‘¢ï¼Ÿ)" }
        ]
    },
    {
        id: 2,
        title: "BÃ i 2: æˆ‘çš„å®¶äºº",
        vocab: [{ char: "çš„", pinyin: "de", viet: "Cá»§a" }, { char: "å®¶", pinyin: "jiÄ", viet: "NhÃ , gia Ä‘Ã¬nh" }, { char: "å®¶äºº", pinyin: "jiÄrÃ©n", viet: "NgÆ°á»i nhÃ " }, { char: "æ¼‚äº®", pinyin: "piÃ oliÃ ng", viet: "Xinh Ä‘áº¹p" }, { char: "æˆ¿å­", pinyin: "fÃ¡ngzi", viet: "NgÃ´i nhÃ " }, { char: "å", pinyin: "zuÃ²", viet: "Ngá»“i" }, { char: "æœ‰", pinyin: "yÇ’u", viet: "CÃ³" }, { char: "å¤š", pinyin: "duÅ", viet: "Nhiá»u" }, { char: "ç…§ç‰‡", pinyin: "zhÃ opiÃ n", viet: "Bá»©c áº£nh" }, { char: "éƒ½", pinyin: "dÅu", viet: "Äá»u" }, { char: "ç…§ç›¸", pinyin: "zhÃ oxiÃ ng", viet: "Chá»¥p áº£nh" }, { char: "å¼µ", pinyin: "zhÄng", viet: "(LÆ°á»£ng tá»«) táº¥m, tá»" }, { char: "å¥½çœ‹", pinyin: "hÇokÃ n", viet: "Äáº¹p, Æ°a nhÃ¬n" }, { char: "èª°", pinyin: "shÃ©i", viet: "Ai" }, { char: "å§å§", pinyin: "jiÄ›jie", viet: "Chá»‹ gÃ¡i" }, { char: "å¦¹å¦¹", pinyin: "mÃ¨imei", viet: "Em gÃ¡i" }, { char: "çˆ¸çˆ¸", pinyin: "bÃ ba", viet: "Bá»‘" }, { char: "åª½åª½", pinyin: "mÄma", viet: "Máº¹" }, { char: "è«‹é€²", pinyin: "qÇng jÃ¬n", viet: "Má»i vÃ o" }, { char: "ä¼¯æ¯", pinyin: "bÃ³mÇ”", viet: "BÃ¡c gÃ¡i" }, { char: "æ‚¨", pinyin: "nÃ­n", viet: "NgÃ i, Ã´ng, bÃ  (kÃ­nh trá»ng)" }, { char: "åå­—", pinyin: "mÃ­ngzi", viet: "TÃªn" }, { char: "æ›¸", pinyin: "shÅ«", viet: "SÃ¡ch" }, { char: "å“¥å“¥", pinyin: "gÄ“ge", viet: "Anh trai" }, { char: "è€å¸«", pinyin: "lÇoshÄ«", viet: "GiÃ¡o viÃªn" }, { char: "çœ‹æ›¸", pinyin: "kÃ nshÅ«", viet: "Äá»c sÃ¡ch" }, { char: "å¹¾", pinyin: "jÇ", viet: "Máº¥y" }, { char: "å€‹", pinyin: "ge", viet: "(LÆ°á»£ng tá»«) cÃ¡i, ngÆ°á»i" }, { char: "æ²’", pinyin: "mÃ©i", viet: "KhÃ´ng (dÃ¹ng vá»›i æœ‰)" }, { char: "å…„å¼Ÿ", pinyin: "xiÅngdÃ¬", viet: "Anh em trai" }, { char: "å§å¦¹", pinyin: "jiÄ›mÃ¨i", viet: "Chá»‹ em gÃ¡i" }, { char: "äº”", pinyin: "wÇ”", viet: "NÄƒm (sá»‘ 5)" }, { char: "å…©", pinyin: "liÇng", viet: "Hai (dÃ¹ng trÆ°á»›c lÆ°á»£ng tá»«)" }
        ],
        grammar: [{ title: "Sá»Ÿ há»¯u cÃ¡ch vá»›i çš„ (de)", content: "Cáº¥u trÃºc: <b>Chá»§ sá»Ÿ há»¯u + çš„ + Váº­t sá»Ÿ há»¯u</b>. (VÃ­ dá»¥: æˆ‘çš„æ›¸)." }, { title: "Äá»‹nh ngá»¯ vá»›i çš„ (de)", content: "Cáº¥u trÃºc: <b>Äá»‹nh ngá»¯ + çš„ + Danh tá»«</b>. (VÃ­ dá»¥: æ¼‚äº®çš„æˆ¿å­)." }, { title: "CÃ¢u tá»“n táº¡i vá»›i æœ‰ (yÇ’u)", content: "Cáº¥u trÃºc: <b>Äá»‹a Ä‘iá»ƒm + æœ‰ + Sá»± váº­t</b>. (VÃ­ dá»¥: æˆ‘å®¶æœ‰å¾ˆå¤šç…§ç‰‡)." }, { title: "PhÃ³ tá»« éƒ½ (dÅu)", content: "Biá»ƒu thá»‹ 'táº¥t cáº£', 'Ä‘á»u'. ThÆ°á»ng Ä‘á»©ng trÆ°á»›c Ä‘á»™ng tá»«. (VÃ­ dá»¥: æˆ‘å€‘éƒ½æ˜¯å­¸ç”Ÿ)." }, { title: "LÆ°á»£ng tá»«", content: "Cáº¥u trÃºc: <b>Sá»‘ tá»« + LÆ°á»£ng tá»« + Danh tá»«</b>. (VÃ­ dá»¥: ä¸€å¼µç…§ç‰‡; å…©å€‹äºº)." }
        ]
    },
    {
        id: 3,
        title: "BÃ i 3: é€±æœ«åšä»€éº¼ï¼Ÿ",
        vocab: [{ char: "é€±æœ«", pinyin: "zhÅumÃ²", viet: "Cuá»‘i tuáº§n" }, { char: "è½", pinyin: "tÄ«ng", viet: "Nghe" }, { char: "éŸ³æ¨‚", pinyin: "yÄ«nyuÃ¨", viet: "Ã‚m nháº¡c" }, { char: "é‹å‹•", pinyin: "yÃ¹ndÃ²ng", viet: "Váº­n Ä‘á»™ng" }, { char: "æ‰“", pinyin: "dÇ", viet: "ChÆ¡i, Ä‘Ã¡nh" }, { char: "ç¶²çƒ", pinyin: "wÇngqiÃº", viet: "Quáº§n vá»£t" }, { char: "æ£’çƒ", pinyin: "bÃ ngqiÃº", viet: "BÃ³ng chÃ y" }, { char: "å’Œ", pinyin: "hÃ n", viet: "VÃ " }, { char: "æ¸¸æ³³", pinyin: "yÃ³uyÇ’ng", viet: "BÆ¡i lá»™i" }, { char: "å¸¸", pinyin: "chÃ¡ng", viet: "ThÆ°á»ng xuyÃªn" }, { char: "ç±ƒçƒ", pinyin: "lÃ¡nqiÃº", viet: "BÃ³ng rá»•" }, { char: "ä¹Ÿ", pinyin: "yÄ›", viet: "CÅ©ng" }, { char: "è¸¢", pinyin: "tÄ«", viet: "ÄÃ¡ (bÃ³ng)" }, { char: "è¶³çƒ", pinyin: "zÃºqiÃº", viet: "BÃ³ng Ä‘Ã¡" }, { char: "è¦ºå¾—", pinyin: "juÃ©de", viet: "Cáº£m tháº¥y" }, { char: "å¥½ç©", pinyin: "hÇowÃ¡n", viet: "Vui, thÃº vá»‹" }, { char: "æ˜å¤©", pinyin: "mÃ­ngtiÄn", viet: "NgÃ y mai" }, { char: "æ—©ä¸Š", pinyin: "zÇoshÃ ng", viet: "Buá»•i sÃ¡ng" }, { char: "å»", pinyin: "qÃ¹", viet: "Äi" }, { char: "æ€éº¼æ¨£", pinyin: "zÄ›nmeyÃ ng", viet: "NhÆ° tháº¿ nÃ o?" }, { char: "å•Š", pinyin: "a", viet: "(Trá»£ tá»«)" }, { char: "çœ‹", pinyin: "kÃ n", viet: "Xem" }, { char: "é›»å½±", pinyin: "diÃ nyÇng", viet: "Phim" }, { char: "å¦³", pinyin: "nÇ", viet: "Báº¡n (ná»¯)" }, { char: "æƒ³", pinyin: "xiÇng", viet: "Muá»‘n, nghÄ©" }, { char: "é‚„æ˜¯", pinyin: "hÃ¡ishÃ¬", viet: "Hay lÃ " }, { char: "å§", pinyin: "ba", viet: "(Trá»£ tá»« Ä‘á» nghá»‹)" }, { char: "å¯ä»¥", pinyin: "kÄ›yÇ", viet: "CÃ³ thá»ƒ" }, { char: "å­¸", pinyin: "xuÃ©", viet: "Há»c" }, { char: "ä¸­æ–‡", pinyin: "ZhÅngwÃ©n", viet: "Tiáº¿ng Trung" }, { char: "ä¸€èµ·", pinyin: "yÃ¬qÇ", viet: "CÃ¹ng nhau" }, { char: "åƒ", pinyin: "chÄ«", viet: "Ä‚n" }, { char: "æ™šé£¯", pinyin: "wÇnfÃ n", viet: "Bá»¯a tá»‘i" }, { char: "èœ", pinyin: "cÃ i", viet: "MÃ³n Äƒn" }, { char: "è¶Šå—", pinyin: "YuÃ¨nÃ¡n", viet: "Viá»‡t Nam" }
        ],
        grammar: [{ title: "Vá»‹ trÃ­ cá»§a tá»« chá»‰ thá»i gian", content: "ThÆ°á»ng Ä‘á»©ng sau chá»§ ngá»¯ vÃ  trÆ°á»›c Ä‘á»™ng tá»«. (VÃ­ dá»¥: æˆ‘å€‘æ˜å¤©å»çœ‹é›»å½±)." }, { title: "Äi lÃ m gÃ¬ vá»›i å» (qÃ¹)", content: "Cáº¥u trÃºc: <b>å» + Äá»™ng tá»«</b>. (VÃ­ dá»¥: æˆ‘å»æ‰“ç¶²çƒ)." }, { title: "CÃ¢u chá»§ Ä‘á»", content: "ÄÆ°a Ä‘á»‘i tÆ°á»£ng muá»‘n bÃ¬nh luáº­n lÃªn Ä‘áº§u cÃ¢u. (VÃ­ dá»¥: ç¾åœ‹é›»å½±ã€è‡ºç£é›»å½±ï¼Œæˆ‘éƒ½æƒ³çœ‹)." }, { title: "Tráº­t tá»± phÃ³ tá»« ä¹Ÿ, éƒ½, å¸¸", content: "<b>ä¹Ÿ</b> thÆ°á»ng Ä‘á»©ng trÆ°á»›c <b>éƒ½</b> vÃ  <b>å¸¸</b>. (VÃ­ dá»¥: æˆ‘å¸¸æ‰“ç±ƒçƒï¼Œä¹Ÿå¸¸è¸¢è¶³çƒ)." }, { title: "ÄÆ°a ra Ä‘á» nghá»‹ vá»›i å§ (ba)", content: "Cáº¥u trÃºc: <b>CÃ¢u tráº§n thuáº­t + å§!</b> (VÃ­ dá»¥: æˆ‘å€‘çœ‹è‡ºç£é›»å½±å§!)." }
        ]
    },
    {
        id: 4,
        title: "BÃ i 4: è«‹å•ä¸€å…±å¤šå°‘éŒ¢ï¼Ÿ",
        vocab: [{ char: "ä¸€å…±", pinyin: "yÃ­gÃ²ng", viet: "Tá»•ng cá»™ng" }, { char: "å¤šå°‘", pinyin: "duÅshÇo", viet: "Bao nhiÃªu" }, { char: "éŒ¢", pinyin: "qiÃ¡n", viet: "Tiá»n" }, { char: "è€é—†", pinyin: "lÇobÇn", viet: "Ã”ng chá»§" }, { char: "è²·", pinyin: "mÇi", viet: "Mua" }, { char: "æ¯", pinyin: "bÄ“i", viet: "Cá»‘c, ly" }, { char: "ç†±", pinyin: "rÃ¨", viet: "NÃ³ng" }, { char: "åŒ…å­", pinyin: "bÄozi", viet: "BÃ¡nh bao" }, { char: "å¤§", pinyin: "dÃ ", viet: "To, lá»›n" }, { char: "ä¸­", pinyin: "zhÅng", viet: "Vá»«a (size)" }, { char: "å°", pinyin: "xiÇo", viet: "Nhá»" }, { char: "å¹«", pinyin: "bÄng", viet: "GiÃºp Ä‘á»¡" }, { char: "å¾®æ³¢", pinyin: "wÃ©ibÅ", viet: "Vi sÃ³ng" }, { char: "ç™¾", pinyin: "bÇi", viet: "TrÄƒm" }, { char: "å¡Š", pinyin: "kuÃ i", viet: "Äá»“ng (tiá»n tá»‡)" }, { char: "å¤–å¸¶", pinyin: "wÃ idÃ i", viet: "Mang Ä‘i" }, { char: "å…§ç”¨", pinyin: "nÃ¨iyÃ²ng", viet: "DÃ¹ng táº¡i chá»—" }, { char: "æ”¯", pinyin: "zhÄ«", viet: "Chiáº¿c (lÆ°á»£ng tá»«)" }, { char: "æ–°", pinyin: "xÄ«n", viet: "Má»›i" }, { char: "æ‰‹æ©Ÿ", pinyin: "shÇ’ujÄ«", viet: "Äiá»‡n thoáº¡i di Ä‘á»™ng" }, { char: "å¤ª", pinyin: "tÃ i", viet: "QuÃ¡" }, { char: "èˆŠ", pinyin: "jiÃ¹", viet: "CÅ©" }, { char: "äº†", pinyin: "le", viet: "(Trá»£ tá»«)" }, { char: "ç¨®", pinyin: "zhÇ’ng", viet: "Loáº¡i" }, { char: "èƒ½", pinyin: "nÃ©ng", viet: "CÃ³ thá»ƒ (kháº£ nÄƒng)" }, { char: "ä¸Šç¶²", pinyin: "shÃ ngwÇng", viet: "LÃªn máº¡ng" }, { char: "é‚£", pinyin: "nÃ ", viet: "Kia, Ä‘Ã³" }, { char: "è²´", pinyin: "guÃ¬", viet: "Äáº¯t" }, { char: "è³£", pinyin: "mÃ i", viet: "BÃ¡n" }, { char: "ä¾¿å®œ", pinyin: "piÃ¡nyÃ­", viet: "Ráº»" }, { char: "è¬", pinyin: "wÃ n", viet: "Váº¡n" }, { char: "åƒ", pinyin: "qiÄn", viet: "NghÃ¬n" }, { char: "ç‚ºä»€éº¼", pinyin: "wÃ¨ishÃ©nme", viet: "Táº¡i sao" }
        ],
        grammar: [{ title: "LÆ°á»£ng tá»«", content: "å¡Š (kuÃ i), æ¯ (bÄ“i), æ”¯ (zhÄ«), ç¨® (zhÇ’ng)." }, { title: "Giá»›i tá»« å¹« (bÄng)", content: "Cáº¥u trÃºc: <b>å¹« + TÃ¢n ngá»¯ + Äá»™ng tá»«</b>. (VÃ­ dá»¥: è«‹å¹«æˆ‘å¾®æ³¢åŒ…å­)." }, { title: "LÆ°á»£c bá» Danh tá»« trung tÃ¢m sau çš„", content: "Khi danh tá»« Ä‘Ã£ rÃµ, cÃ³ thá»ƒ lÆ°á»£c bá». (VÃ­ dá»¥: æˆ‘è¦æ–°çš„ (æ‰‹æ©Ÿ))." }, { title: "Cáº¥u trÃºc å¤ª...äº†", content: "Biá»ƒu thá»‹ má»©c Ä‘á»™ quÃ¡ cao. (VÃ­ dá»¥: å¤ªè²´äº†)." }, { title: "Äá»™ng tá»« nÄƒng nguyá»‡n èƒ½ (nÃ©ng)", content: "Biá»ƒu thá»‹ kháº£ nÄƒng. (VÃ­ dá»¥: æ‰‹æ©Ÿèƒ½ä¸Šç¶²)." }, { title: "å¤š (duÅ) chá»‰ sá»‘ 'hÆ¡n'", content: "Cáº¥u trÃºc: <b>Sá»‘ tá»« + å¤š...</b>. (VÃ­ dá»¥: ä¸€è¬äº”åƒå¤šå¡Š)." }
        ]
    },
    {
        id: 5,
        title: "BÃ i 5: ç‰›è‚‰éºµçœŸå¥½åƒ",
        vocab: [{ char: "ç‰›è‚‰", pinyin: "niÃºrÃ²u", viet: "Thá»‹t bÃ²" }, { char: "éºµ", pinyin: "miÃ n", viet: "MÃ¬" }, { char: "çœŸ", pinyin: "zhÄ“n", viet: "Tháº­t lÃ " }, { char: "å¥½åƒ", pinyin: "hÇochÄ«", viet: "Ngon (Ä‘á»“ Äƒn)" }, { char: "èªª", pinyin: "shuÅ", viet: "NÃ³i" }, { char: "å°‘", pinyin: "shÇo", viet: "Ãt" }, { char: "æœ‰å", pinyin: "yÇ’umÃ­ng", viet: "Ná»•i tiáº¿ng" }, { char: "å°åƒ", pinyin: "xiÇochÄ«", viet: "MÃ³n Äƒn váº·t" }, { char: "æœ€", pinyin: "zuÃ¬", viet: "Nháº¥t" }, { char: "æ¹¯", pinyin: "tÄng", viet: "Canh, sÃºp" }, { char: "é€™éº¼", pinyin: "zhÃ¨me", viet: "NhÆ° váº­y" }, { char: "çŸ¥é“", pinyin: "zhÄ«dÃ o", viet: "Biáº¿t" }, { char: "å®¶", pinyin: "jiÄ", viet: "(LÆ°á»£ng tá»«) cá»­a hÃ ng" }, { char: "åº—", pinyin: "diÃ n", viet: "Cá»­a hÃ ng" }, { char: "ä¸€å®š", pinyin: "yÃ­dÃ¬ng", viet: "Nháº¥t Ä‘á»‹nh" }, { char: "é»", pinyin: "diÇn", viet: "Gá»i mÃ³n" }, { char: "ç¢—", pinyin: "wÇn", viet: "BÃ¡t, chÃ©n" }, { char: "å°ç± åŒ…", pinyin: "xiÇolÃ³ngbÄo", viet: "Tiá»ƒu long bao" }, { char: "è‡­è±†è…", pinyin: "chÃ²udÃ²ufu", viet: "Äáº­u phá»¥ thá»‘i" }, { char: "æ˜¨å¤©", pinyin: "zuÃ³tiÄn", viet: "HÃ´m qua" }, { char: "é¤å»³", pinyin: "cÄntÄ«ng", viet: "NhÃ  hÃ ng" }, { char: "å¯æ˜¯", pinyin: "kÄ›shÃ¬", viet: "NhÆ°ng" }, { char: "è¾£", pinyin: "lÃ ", viet: "Cay" }, { char: "æ€•", pinyin: "pÃ ", viet: "Sá»£" }, { char: "æ‰€ä»¥", pinyin: "suÇ’yÇ", viet: "Cho nÃªn" }, { char: "è‡ªå·±", pinyin: "zÃ¬jÇ", viet: "Tá»± mÃ¬nh" }, { char: "åšé£¯", pinyin: "zuÃ²fÃ n", viet: "Náº¥u cÆ¡m" }, { char: "å¾—", pinyin: "de", viet: "(Bá»• ngá»¯ tráº¡ng thÃ¡i)" }, { char: "æœƒ", pinyin: "huÃ¬", viet: "Biáº¿t (há»c)" }, { char: "ç”œé»", pinyin: "tiÃ¡ndiÇn", viet: "Äá»“ ngá»t" }, { char: "ä¸éŒ¯", pinyin: "bÃºcuÃ²", viet: "KhÃ´ng tá»‡" }, { char: "æ•™", pinyin: "jiÄo", viet: "Dáº¡y" }, { char: "åˆ°", pinyin: "dÃ o", viet: "Äáº¿n" }
        ],
        grammar: [{ title: "æœ‰ä¸€é» (yÇ’u yÃ¬diÇn)", content: "Cáº¥u trÃºc: <b>æœ‰ä¸€é» + TÃ­nh tá»«</b>, biá»ƒu thá»‹ má»™t chÃºt (thÆ°á»ng tiÃªu cá»±c). (VÃ­ dá»¥: æœ‰ä¸€é»è¾£)." }, { title: "Bá»• ngá»¯ tráº¡ng thÃ¡i å¾— (de)", content: "Cáº¥u trÃºc: <b>Äá»™ng tá»« + å¾— + TÃ­nh tá»«/Tráº¡ng tá»«</b>. (VÃ­ dá»¥: ä»–åšå¾—å¾ˆå¥½)." }, { title: "Äá»™ng tá»« nÄƒng nguyá»‡n æœƒ (huÃ¬)", content: "Biá»ƒu thá»‹ ká»¹ nÄƒng cÃ³ Ä‘Æ°á»£c qua há»c táº­p. (VÃ­ dá»¥: æˆ‘æœƒåšé£¯)." }, { title: "Giá»›i tá»« åˆ° (dÃ o)", content: "Biá»ƒu thá»‹ Ä‘iá»ƒm Ä‘áº¿n. (VÃ­ dá»¥: ä½ åˆ°æˆ‘å®¶ä¾†)." }
        ]
    },
    {
        id: 6,
        title: "BÃ i 6: ä»–å€‘å­¸æ ¡åœ¨å±±ä¸Š",
        vocab: [{ char: "ä»–å€‘", pinyin: "tÄmen", viet: "Bá»n há»" }, { char: "å­¸æ ¡", pinyin: "xuÃ©xiÃ o", viet: "TrÆ°á»ng há»c" }, { char: "åœ¨", pinyin: "zÃ i", viet: "á» táº¡i" }, { char: "å±±ä¸Š", pinyin: "shÄnshÃ ng", viet: "TrÃªn nÃºi" }, { char: "å“ªè£¡", pinyin: "nÇlÇ", viet: "á» Ä‘Ã¢u" }, { char: "é ", pinyin: "yuÇn", viet: "Xa" }, { char: "é‚£è£¡", pinyin: "nÃ lÇ", viet: "á» Ä‘Ã³" }, { char: "é¢¨æ™¯", pinyin: "fÄ“ngjÇng", viet: "Phong cáº£nh" }, { char: "ç¾", pinyin: "mÄ›i", viet: "Äáº¹p" }, { char: "å‰é¢", pinyin: "qiÃ¡nmiÃ n", viet: "PhÃ­a trÆ°á»›c" }, { char: "æµ·", pinyin: "hÇi", viet: "Biá»ƒn" }, { char: "å¾Œé¢", pinyin: "hÃ²umiÃ n", viet: "PhÃ­a sau" }, { char: "å±±", pinyin: "shÄn", viet: "NÃºi" }, { char: "çœŸçš„", pinyin: "zhÄ“nde", viet: "Tháº­t sá»±" }, { char: "åœ°æ–¹", pinyin: "dÃ¬fang", viet: "NÆ¡i, chá»—" }, { char: "ç¾åœ¨", pinyin: "xiÃ nzÃ i", viet: "BÃ¢y giá»" }, { char: "é™„è¿‘", pinyin: "fÃ¹jÃ¬n", viet: "Gáº§n Ä‘Ã¢y" }, { char: "æ¨“ä¸‹", pinyin: "lÃ³uxiÃ ", viet: "DÆ°á»›i láº§u" }, { char: "æ‰¾", pinyin: "zhÇo", viet: "TÃ¬m" }, { char: "æœ‹å‹", pinyin: "pÃ©ngyou", viet: "Báº¡n bÃ¨" }, { char: "ä¸Šèª²", pinyin: "shÃ ngkÃ¨", viet: "Äi há»c" }, { char: "è¿‘", pinyin: "jÃ¬n", viet: "Gáº§n" }, { char: "æ–¹ä¾¿", pinyin: "fÄngbiÃ n", viet: "Thuáº­n tiá»‡n" }, { char: "æ±è¥¿", pinyin: "dÅngxi", viet: "Äá»“ Ä‘áº¡c" }, { char: "å¤–é¢", pinyin: "wÃ imiÃ n", viet: "BÃªn ngoÃ i" }, { char: "è£¡é¢", pinyin: "lÇmiÃ n", viet: "BÃªn trong" }, { char: "å•†åº—", pinyin: "shÄngdiÃ n", viet: "Cá»­a hÃ ng" }, { char: "å®¿èˆ", pinyin: "sÃ¹shÃ¨", viet: "KÃ½ tÃºc xÃ¡" }, { char: "æ¨“", pinyin: "lÃ³u", viet: "Táº§ng, láº§u" }, { char: "æ£Ÿ", pinyin: "dÃ²ng", viet: "TÃ²a (lÆ°á»£ng tá»«)" }, { char: "å¤§æ¨“", pinyin: "dÃ lÃ³u", viet: "TÃ²a nhÃ  lá»›n" }, { char: "åœ–æ›¸é¤¨", pinyin: "tÃºshÅ«guÇn", viet: "ThÆ° viá»‡n" }, { char: "æ—é‚Š", pinyin: "pÃ¡ngbiÄn", viet: "BÃªn cáº¡nh" }, { char: "æ•™å®¤", pinyin: "jiÃ oshÃ¬", viet: "PhÃ²ng há»c" }, { char: "æ¸¸æ³³æ± ", pinyin: "yÃ³uyÇ’ngchÃ­", viet: "Bá»ƒ bÆ¡i" }
        ],
        grammar: [{ title: "Biá»ƒu thá»‹ vá»‹ trÃ­ vá»›i åœ¨ (zÃ i)", content: "Cáº¥u trÃºc: <b>Sá»± váº­t + åœ¨ + Äá»‹a Ä‘iá»ƒm</b>." }, { title: "CÃ¢u tá»“n táº¡i vá»›i æœ‰ (yÇ’u)", content: "Cáº¥u trÃºc: <b>Äá»‹a Ä‘iá»ƒm + æœ‰ + Sá»± váº­t</b>." }, { title: "Láº·p láº¡i Ä‘á»™ng tá»« (V-V)", content: "Biá»ƒu thá»‹ hÃ nh Ä‘á»™ng ngáº¯n, thá»­ lÃ m. (VÃ­ dá»¥: æˆ‘æƒ³å»çœ‹çœ‹)." }, { title: "Phá»§ Ä‘á»‹nh vá»›i ä¸æ˜¯ (bÃºshÃ¬)", content: "DÃ¹ng Ä‘á»ƒ phá»§ nháº­n má»™t nháº­n Ä‘á»‹nh." }, { title: "Vá»‹ trÃ­ cá»§a hÃ nh Ä‘á»™ng", content: "Cáº¥u trÃºc: <b>Chá»§ ngá»¯ + åœ¨ + Äá»‹a Ä‘iá»ƒm + Äá»™ng tá»«</b>." }
        ]
    },
    {
        id: 7,
        title: "BÃ i 7: æ—©ä¸Šä¹é»å»KTV",
        vocab: [{ char: "é»", pinyin: "diÇn", viet: "Giá»" }, { char: "KTV", pinyin: "KTV", viet: "Karaoke" }, { char: "å”±æ­Œ", pinyin: "chÃ nggÄ“", viet: "HÃ¡t" }, { char: "åˆ†", pinyin: "fÄ“n", viet: "PhÃºt" }, { char: "è¦‹é¢", pinyin: "jiÃ nmiÃ n", viet: "Gáº·p máº·t" }, { char: "å¾", pinyin: "cÃ³ng", viet: "Tá»«" }, { char: "ä¸­åˆ", pinyin: "zhÅngwÇ”", viet: "Buá»•i trÆ°a" }, { char: "å¾—", pinyin: "dÄ›i", viet: "Pháº£i" }, { char: "éŠ€è¡Œ", pinyin: "yÃ­nhÃ¡ng", viet: "NgÃ¢n hÃ ng" }, { char: "æ™‚å€™", pinyin: "shÃ­hou", viet: "LÃºc, khi" }, { char: "å¾Œå¤©", pinyin: "hÃ²utiÄn", viet: "NgÃ y kia" }, { char: "å†è¦‹", pinyin: "zÃ ijiÃ n", viet: "Táº¡m biá»‡t" }, { char: "åˆé¤", pinyin: "wÇ”cÄn", viet: "Bá»¯a trÆ°a" }, { char: "å‰›", pinyin: "gÄng", viet: "Vá»«a má»›i" }, { char: "ä¸‹èª²", pinyin: "xiÃ kÃ¨", viet: "Tan há»c" }, { char: "ä¸‹åˆ", pinyin: "xiÃ wÇ”", viet: "Buá»•i chiá»u" }, { char: "åŠ", pinyin: "bÃ n", viet: "RÆ°á»¡i, ná»­a" }, { char: "æ¯”è³½", pinyin: "bÇsÃ i", viet: "Tráº­n Ä‘áº¥u" }, { char: "çµæŸ", pinyin: "jiÃ©shÃ¹", viet: "Káº¿t thÃºc" }, { char: "æœ€è¿‘", pinyin: "zuÃ¬jÃ¬n", viet: "Gáº§n Ä‘Ã¢y" }, { char: "å¿™", pinyin: "mÃ¡ng", viet: "Báº­n rá»™n" }, { char: "æ¯", pinyin: "mÄ›i", viet: "Má»—i" }, { char: "å¤©", pinyin: "tiÄn", viet: "NgÃ y" }, { char: "æ›¸æ³•", pinyin: "shÅ«fÇ", viet: "ThÆ° phÃ¡p" }, { char: "èª²", pinyin: "kÃ¨", viet: "BÃ i há»c" }, { char: "é–‹å§‹", pinyin: "kÄishÇ", viet: "Báº¯t Ä‘áº§u" }, { char: "å­—", pinyin: "zÃ¬", viet: "Chá»¯" }, { char: "å¯«", pinyin: "xiÄ›", viet: "Viáº¿t" }, { char: "å•", pinyin: "wÃ¨n", viet: "Há»i" }
        ],
        grammar: [{ title: "Thá»© tá»± thá»i gian vÃ  Ä‘á»‹a Ä‘iá»ƒm", content: "Cáº¥u trÃºc: <b>Chá»§ ngá»¯ + Thá»i gian + Äá»‹a Ä‘iá»ƒm + Äá»™ng tá»«</b>." }, { title: "Cáº¥u trÃºc å¾...åˆ°...", content: "Tá»«...Ä‘áº¿n... (chá»‰ khÃ´ng gian hoáº·c thá»i gian)." }, { title: "HÃ nh Ä‘á»™ng tiáº¿p diá»…n vá»›i åœ¨ (zÃ i)", content: "Cáº¥u trÃºc: <b>åœ¨ + Äá»™ng tá»«</b>, biá»ƒu thá»‹ hÃ nh Ä‘á»™ng Ä‘ang diá»…n ra." }, { title: "æ¯ (mÄ›i)", content: "'Má»—i', thÆ°á»ng Ä‘i kÃ¨m vá»›i <b>éƒ½ (dÅu)</b>. (VÃ­ dá»¥: æˆ‘æ¯å¤©éƒ½é‹å‹•)." }, { title: "å¯ä»¥ (kÄ›yÇ)", content: "CÃ³ thá»ƒ (xin phÃ©p)." }
        ]
    },
    {
        id: 8,
        title: "BÃ i 8: åç«è»Šå»è‡ºå—",
        vocab: [{ char: "å", pinyin: "zuÃ²", viet: "Ngá»“i (phÆ°Æ¡ng tiá»‡n)" }, { char: "ç«è»Š", pinyin: "huÇ’chÄ“", viet: "TÃ u há»a" }, { char: "è·Ÿ", pinyin: "gÄ“n", viet: "CÃ¹ng vá»›i" }, { char: "ç©", pinyin: "wÃ¡n", viet: "ChÆ¡i" }, { char: "æ€éº¼", pinyin: "zÄ›nme", viet: "LÃ m sao" }, { char: "æ…¢", pinyin: "mÃ n", viet: "Cháº­m" }, { char: "é˜é ­", pinyin: "zhÅngtÃ³u", viet: "Tiáº¿ng Ä‘á»“ng há»“" }, { char: "æ¯”è¼ƒ", pinyin: "bÇjiÃ o", viet: "HÆ¡n" }, { char: "å¿«", pinyin: "kuÃ i", viet: "Nhanh" }, { char: "è»Šç¥¨", pinyin: "chÄ“piÃ o", viet: "VÃ© xe" }, { char: "éå¸¸", pinyin: "fÄ“ichÃ¡ng", viet: "VÃ´ cÃ¹ng" }, { char: "ä½†æ˜¯", pinyin: "dÃ nshÃ¬", viet: "NhÆ°ng" }, { char: "åˆ", pinyin: "yÃ²u...yÃ²u...", viet: "Vá»«a...vá»«a..." }, { char: "èˆ’æœ", pinyin: "shÅ«fu", viet: "Thoáº£i mÃ¡i" }, { char: "ç«™", pinyin: "zhÃ n", viet: "Tráº¡m, ga" }, { char: "æˆ–æ˜¯", pinyin: "huÃ²shÃ¬", viet: "Hoáº·c lÃ " }, { char: "åŒå­¸", pinyin: "tÃ³ngxuÃ©", viet: "Báº¡n há»c" }, { char: "åƒè§€", pinyin: "cÄnguÄn", viet: "Tham quan" }, { char: "å¤ä»£", pinyin: "gÇ”dÃ i", viet: "Cá»• Ä‘áº¡i" }, { char: "é¨", pinyin: "qÃ­", viet: "CÆ°á»¡i, Ä‘i" }, { char: "æ©Ÿè»Š", pinyin: "jÄ«chÄ“", viet: "Xe mÃ¡y" }, { char: "è¼‰", pinyin: "zÃ i", viet: "Chá»Ÿ" }, { char: "æ·é‹", pinyin: "jiÃ©yÃ¹n", viet: "TÃ u Ä‘iá»‡n ngáº§m" }, { char: "æ¯”", pinyin: "bÇ", viet: "So vá»›i" }, { char: "æ•…å®®", pinyin: "GÃ¹gÅng", viet: "Cá»‘ Cung" }
        ],
        grammar: [{ title: "Äi cÃ¹ng ai vá»›i è·Ÿ (gÄ“n)", content: "Cáº¥u trÃºc: <b>A è·Ÿ B ä¸€èµ· + Äá»™ng tá»«</b>." }, { title: "Há»i cÃ¡ch thá»©c vá»›i æ€éº¼ (zÄ›nme)", content: "Cáº¥u trÃºc: <b>æ€éº¼ + Äá»™ng tá»«?</b>" }, { title: "So sÃ¡nh ngáº§m vá»›i æ¯”è¼ƒ (bÇjiÃ o)", content: "Biá»ƒu thá»‹ má»©c Ä‘á»™ 'hÆ¡n'. (VÃ­ dá»¥: é€™å€‹æ¯”è¼ƒå¥½)." }, { title: "Cáº¥u trÃºc åˆ...åˆ... (yÃ²u...yÃ²u...)", content: "Biá»ƒu thá»‹ hai Ä‘áº·c Ä‘iá»ƒm/hÃ nh Ä‘á»™ng cÃ¹ng tá»“n táº¡i." }, { title: "CÃ¢u so sÃ¡nh vá»›i æ¯” (bÇ)", content: "Cáº¥u trÃºc: <b>A æ¯” B + TÃ­nh tá»«</b>." }
        ]
    },
    {
        id: 9,
        title: "BÃ i 9: æ”¾å‡å»å“ªè£¡ç©ï¼Ÿ",
        vocab: [{ char: "æ”¾å‡", pinyin: "fÃ ngjiÃ ", viet: "Nghá»‰ lá»…" }, { char: "æ˜ŸæœŸ", pinyin: "xÄ«ngqÄ«", viet: "Tuáº§n" }, { char: "å›åœ‹", pinyin: "huÃ­guÃ³", viet: "Vá» nÆ°á»›c" }, { char: "æ‰“ç®—", pinyin: "dÇsuÃ n", viet: "Dá»± Ä‘á»‹nh" }, { char: "é›»è¦–", pinyin: "diÃ nshÃ¬", viet: "Ti vi" }, { char: "å½±ç‰‡", pinyin: "yÇngpiÃ n", viet: "Phim, video" }, { char: "æ—…è¡Œ", pinyin: "lÇšxÃ­ng", viet: "Du lá»‹ch" }, { char: "åŠŸèª²", pinyin: "gÅngkÃ¨", viet: "BÃ i táº­p" }, { char: "å‡ºå»", pinyin: "chÅ«qÃ¹", viet: "Äi ra ngoÃ i" }, { char: "å¤§æ¦‚", pinyin: "dÃ gÃ i", viet: "Khoáº£ng" }, { char: "æœ‰æ™‚å€™", pinyin: "yÇ’ushÃ­hou", viet: "CÃ³ lÃºc" }, { char: "å¤šä¹…", pinyin: "duÅ jiÇ”", viet: "Bao lÃ¢u" }, { char: "å¥³", pinyin: "nÇš", viet: "Ná»¯" }, { char: "æœˆ", pinyin: "yuÃ¨", viet: "ThÃ¡ng" }, { char: "è™Ÿ", pinyin: "hÃ o", viet: "NgÃ y" }, { char: "å¸¶", pinyin: "dÃ i", viet: "Dáº¯t, mang" }, { char: "å¥¹", pinyin: "tÄ", viet: "CÃ´ áº¥y" }, { char: "é‚„", pinyin: "hÃ¡i", viet: "Váº«n, cÃ²n" }, { char: "å»ºè­°", pinyin: "jiÃ nyÃ¬", viet: "Gá»£i Ã½" }, { char: "å¤œå¸‚", pinyin: "yÃ¨shÃ¬", viet: "Chá»£ Ä‘Ãªm" }, { char: "æ‡‰è©²", pinyin: "yÄ«nggÄi", viet: "NÃªn" }, { char: "é€›", pinyin: "guÃ ng", viet: "Dáº¡o chÆ¡i" }, { char: "ç‰¹åˆ¥", pinyin: "tÃ¨biÃ©", viet: "Äáº·c biá»‡t" }, { char: "èŒ¶é¤¨", pinyin: "chÃ¡guÇn", viet: "QuÃ¡n trÃ " }, { char: "æ±ºå®š", pinyin: "juÃ©dÃ¬ng", viet: "Quyáº¿t Ä‘á»‹nh" }, { char: "è¦æ˜¯", pinyin: "yÃ oshi", viet: "Náº¿u" }, { char: "å°±", pinyin: "jiÃ¹", viet: "ThÃ¬, liá»n" }
        ],
        grammar: [{ title: "PhÃ¢n biá»‡t Thá»i Ä‘iá»ƒm vÃ  Thá»i Ä‘oáº¡n", content: "<b>Thá»i Ä‘iá»ƒm (time-when)</b> lÃ  má»‘c thá»i gian. <b>Thá»i Ä‘oáº¡n (time-duration)</b> lÃ  khoáº£ng thá»i gian." }, { title: "Cáº¥u trÃºc ...çš„æ™‚å€™ (de shÃ­hou)", content: "'Khi...'. (VÃ­ dá»¥: æ”¾å‡çš„æ™‚å€™)." }, { title: "Cáº¥u trÃºc æœ‰æ™‚å€™...æœ‰æ™‚å€™...", content: "LÃºc thÃ¬... lÃºc thÃ¬..." }, { title: "CÃ¢u Ä‘iá»u kiá»‡n è¦æ˜¯...å°±...", content: "Náº¿u...thÃ¬..." }
        ]
    },
    {
        id: 10,
        title: "BÃ i 10: è‡ºç£çš„æ°´æœå¾ˆå¥½åƒ",
        vocab: [{ char: "æ°´æœ", pinyin: "shuÇguÇ’", viet: "TrÃ¡i cÃ¢y" }, { char: "é»ƒè‰²", pinyin: "huÃ¡ngsÃ¨", viet: "MÃ u vÃ ng" }, { char: "èŠ’æœ", pinyin: "mÃ¡ngguÇ’", viet: "XoÃ i" }, { char: "çµ¦", pinyin: "gÄ›i", viet: "Cho" }, { char: "å¡Š", pinyin: "kuÃ i", viet: "Miáº¿ng" }, { char: "é¦™", pinyin: "xiÄng", viet: "ThÆ¡m" }, { char: "ç”œ", pinyin: "tiÃ¡n", viet: "Ngá»t" }, { char: "ç´…è‰²", pinyin: "hÃ³ngsÃ¨", viet: "MÃ u Ä‘á»" }, { char: "è¥¿ç“œ", pinyin: "xÄ«guÄ", viet: "DÆ°a háº¥u" }, { char: "å§", pinyin: "ba", viet: "(Trá»£ tá»« phá»ng Ä‘oÃ¡n)" }, { char: "å°", pinyin: "duÃ¬", viet: "ÄÃºng" }, { char: "ä»¥å‰", pinyin: "yÇqiÃ¡n", viet: "TrÆ°á»›c Ä‘Ã¢y" }, { char: "æ©Ÿæœƒ", pinyin: "jÄ«huÃ¬", viet: "CÆ¡ há»™i" }, { char: "è«‹", pinyin: "qÇng", viet: "Má»i (Äƒn/uá»‘ng)" }, { char: "æ‹", pinyin: "pÄi", viet: "Chá»¥p (áº£nh)" }, { char: "ç¬‘", pinyin: "xiÃ o", viet: "CÆ°á»i" }, { char: "é–‹å¿ƒ", pinyin: "kÄixÄ«n", viet: "Vui váº»" }, { char: "ç©¿", pinyin: "chuÄn", viet: "Máº·c" }, { char: "è¡£æœ", pinyin: "yÄ«fu", viet: "Quáº§n Ã¡o" }, { char: "æ—…é¤¨", pinyin: "lÇšguÇn", viet: "KhÃ¡ch sáº¡n" }, { char: "å¤ªå¤ª", pinyin: "tÃ itai", viet: "Vá»£" }, { char: "ç”·", pinyin: "nÃ¡n", viet: "Nam" }, { char: "çŸ®", pinyin: "Çi", viet: "Tháº¥p" }, { char: "é«˜", pinyin: "gÄo", viet: "Cao" }, { char: "å¼Ÿå¼Ÿ", pinyin: "dÃ¬di", viet: "Em trai" }, { char: "ä¹¾æ·¨", pinyin: "gÄnjÃ¬ng", viet: "Sáº¡ch sáº½" }, { char: "çª—æˆ¶", pinyin: "chuÄnghu", viet: "Cá»­a sá»•" }, { char: "å¾€", pinyin: "wÇng", viet: "HÆ°á»›ng vá»" }, { char: "è—è‰²", pinyin: "lÃ¡nsÃ¨", viet: "MÃ u xanh lam" }, { char: "å› ç‚º", pinyin: "yÄ«nwÃ¨i", viet: "Bá»Ÿi vÃ¬" }, { char: "ä½", pinyin: "zhÃ¹", viet: "Sá»‘ng, á»Ÿ" }
        ],
        grammar: [{ title: "Láº·p láº¡i Ä‘á»™ng tá»« + çœ‹ (VVkÃ n)", content: "Thá»­ lÃ m gÃ¬ Ä‘Ã³ xem sao. (VÃ­ dá»¥: åƒåƒçœ‹)." }, { title: "Láº·p láº¡i tÃ­nh tá»« (AAçš„)", content: "Nháº¥n máº¡nh tÃ­nh cháº¥t. (VÃ­ dá»¥: é¦™é¦™çš„)." }, { title: "Má»‡nh Ä‘á» lÃ m Ä‘á»‹nh ngá»¯", content: "Cáº¥u trÃºc: <b>Má»‡nh Ä‘á» + çš„ + Danh tá»«</b>. (VÃ­ dá»¥: ä½ èªªçš„æ°´æœ)." }, { title: "Trá»£ tá»« äº† (le) cuá»‘i cÃ¢u", content: "Biá»ƒu thá»‹ sá»± thay Ä‘á»•i tÃ¬nh huá»‘ng. (VÃ­ dá»¥: æˆ‘ç¾åœ¨å¾ˆå–œæ­¡äº†)." }, { title: "CÃ¢u å› ç‚º...æ‰€ä»¥...", content: "Bá»Ÿi vÃ¬... cho nÃªn..." }
        ]
    },
    {
        id: 11,
        title: "BÃ i 11: æˆ‘è¦ç§Ÿæˆ¿å­",
        vocab: [{ char: "ç§Ÿ", pinyin: "zÅ«", viet: "ThuÃª" }, { char: "æˆ¿æ±", pinyin: "fÃ¡ngdÅng", viet: "Chá»§ nhÃ " }, { char: "å®¢å»³", pinyin: "kÃ¨tÄ«ng", viet: "PhÃ²ng khÃ¡ch" }, { char: "å»šæˆ¿", pinyin: "chÃºfÃ¡ng", viet: "NhÃ  báº¿p" }, { char: "å·¦é‚Š", pinyin: "zuÇ’biÄn", viet: "BÃªn trÃ¡i" }, { char: "å³é‚Š", pinyin: "yÃ²ubiÄn", viet: "BÃªn pháº£i" }, { char: "æµ´å®¤", pinyin: "yÃ¹shÃ¬", viet: "PhÃ²ng táº¯m" }, { char: "è¶…å¸‚", pinyin: "chÄoshÃ¬", viet: "SiÃªu thá»‹" }, { char: "èµ°è·¯", pinyin: "zÇ’ulÃ¹", viet: "Äi bá»™" }, { char: "åˆ†é˜", pinyin: "fÄ“nzhÅng", viet: "PhÃºt" }, { char: "åˆ°", pinyin: "dÃ o", viet: "Äáº¿n" }, { char: "é–“", pinyin: "jiÄn", viet: "Gian (phÃ²ng)" }, { char: "ç©º", pinyin: "kÅng", viet: "Trá»‘ng" }, { char: "æˆ¿é–“", pinyin: "fÃ¡ngjiÄn", viet: "CÄƒn phÃ²ng" }, { char: "å¥—æˆ¿", pinyin: "tÃ ofÃ¡ng", viet: "PhÃ²ng khÃ©p kÃ­n" }, { char: "å›å»", pinyin: "huÃ­qÃ¹", viet: "Äi vá»" }, { char: "å†", pinyin: "zÃ i", viet: "Sau Ä‘Ã³" }, { char: "é›»è©±", pinyin: "diÃ nhuÃ ", viet: "Äiá»‡n thoáº¡i" }, { char: "å–‚", pinyin: "wÃ©i", viet: "A lÃ´" }, { char: "æˆ¿ç§Ÿ", pinyin: "fÃ¡ngzÅ«", viet: "Tiá»n thuÃª nhÃ " }, { char: "å·²ç¶“", pinyin: "yÇjÄ«ng", viet: "ÄÃ£" }, { char: "ç¿’æ…£", pinyin: "xÃ­guÃ n", viet: "Quen" }, { char: "å•é¡Œ", pinyin: "wÃ¨ntÃ­", viet: "Váº¥n Ä‘á»" }, { char: "ç†±æ°´å™¨", pinyin: "rÃ¨shuÇqÃ¬", viet: "BÃ¬nh nÃ³ng láº¡nh" }, { char: "å¥½åƒ", pinyin: "hÇoxiÃ ng", viet: "HÃ¬nh nhÆ°" }, { char: "æœƒ", pinyin: "huÃ¬", viet: "Sáº½" }, { char: "ç­‰", pinyin: "dÄ›ng", viet: "Äá»£i" }, { char: "é‚£", pinyin: "nÃ ", viet: "Váº­y thÃ¬" }, { char: "è£", pinyin: "zhuÄng", viet: "Láº¯p Ä‘áº·t" }, { char: "ä¸é", pinyin: "bÃºguÃ²", viet: "NhÆ°ng" }, { char: "ä»˜", pinyin: "fÃ¹", viet: "Tráº£ tiá»n" }
        ],
        grammar: [{ title: "Äáº¿n Ä‘á»ƒ lÃ m gÃ¬ vá»›i ä¾† (lÃ¡i)", content: "Cáº¥u trÃºc: <b>ä¾† + Äá»™ng tá»«</b>. (VÃ­ dá»¥: æˆ‘ä¾†çœ‹æˆ¿å­)." }, { title: "å°± (jiÃ¹) - Sá»›m hÆ¡n dá»± kiáº¿n", content: "(VÃ­ dá»¥: èµ°è·¯äº”åˆ†é˜å°±åˆ°äº†)." }, { title: "CÃ¢u tá»“n táº¡i vá»›i chá»§ ngá»¯ báº¥t Ä‘á»‹nh", content: "Cáº¥u trÃºc: <b>æœ‰ + Danh tá»« báº¥t Ä‘á»‹nh + Äá»™ng tá»«</b>. (VÃ­ dá»¥: æœ‰äººä½å—ï¼Ÿ)." }, { title: "CÃ¡c loáº¡i æœƒ (huÃ¬)", content: "<b>huÃ¬_1</b> (ká»¹ nÄƒng), <b>huÃ¬_2</b> (sáº½ xáº£y ra)." }, { title: "LÆ°á»£c bá» danh tá»«", content: "Danh tá»« Ä‘Ã£ rÃµ trong ngá»¯ cáº£nh cÃ³ thá»ƒ Ä‘Æ°á»£c lÆ°á»£c bá»." }
        ]
    },
    {
        id: 12,
        title: "BÃ i 12: ä½ åœ¨è‡ºç£å­¸å¤šä¹…çš„ä¸­æ–‡ï¼Ÿ",
        vocab: [{ char: "è¨ˆç•«", pinyin: "jÃ¬huÃ ", viet: "Káº¿ hoáº¡ch" }, { char: "å¹´", pinyin: "niÃ¡n", viet: "NÄƒm" }, { char: "ä¹…", pinyin: "jiÇ”", viet: "LÃ¢u" }, { char: "æ™‚é–“", pinyin: "shÃ­jiÄn", viet: "Thá»i gian" }, { char: "å…ˆ", pinyin: "xiÄn", viet: "TrÆ°á»›c" }, { char: "å¿µ", pinyin: "niÃ n", viet: "Há»c, Ä‘á»c" }, { char: "å¤§å­¸", pinyin: "dÃ xuÃ©", viet: "Äáº¡i há»c" }, { char: "éœ€è¦", pinyin: "xÅ«yÃ o", viet: "Cáº§n" }, { char: "èŠ±", pinyin: "huÄ", viet: "TiÃªu tá»‘n" }, { char: "çå­¸é‡‘", pinyin: "jiÇngxuÃ©jÄ«n", viet: "Há»c bá»•ng" }, { char: "æˆç¸¾", pinyin: "chÃ©ngjÃ¬", viet: "ThÃ nh tÃ­ch" }, { char: "å­¸è²»", pinyin: "xuÃ©fÃ¨i", viet: "Há»c phÃ­" }, { char: "å…¬å¸", pinyin: "gÅngsÄ«", viet: "CÃ´ng ty" }, { char: "æ›¿", pinyin: "tÃ¬", viet: "Thay, cho" }, { char: "å¸Œæœ›", pinyin: "xÄ«wÃ ng", viet: "Hy vá»ng" }, { char: "ä»¥å¾Œ", pinyin: "yÇhÃ²u", viet: "Sau nÃ y" }, { char: "ä¸Šç­", pinyin: "shÃ ngbÄn", viet: "Äi lÃ m" }, { char: "å¿µæ›¸", pinyin: "niÃ nshÅ«", viet: "Há»c bÃ i" }, { char: "ç´¯", pinyin: "lÃ¨i", viet: "Má»‡t" }, { char: "å·¥ä½œ", pinyin: "gÅngzuÃ²", viet: "CÃ´ng viá»‡c" }, { char: "å»å¹´", pinyin: "qÃ¹niÃ¡n", viet: "NÄƒm ngoÃ¡i" }, { char: "åš", pinyin: "zuÃ²", viet: "LÃ m" }, { char: "ç”Ÿæ„", pinyin: "shÄ“ngyÃ¬", viet: "Kinh doanh" }, { char: "å¥½", pinyin: "hÇo", viet: "Dá»…" }, { char: "é›£", pinyin: "nÃ¡n", viet: "KhÃ³" }, { char: "é€™æ¨£", pinyin: "zhÃ¨yÃ ng", viet: "NhÆ° tháº¿ nÃ y" }, { char: "åœ‹å®¶", pinyin: "guÃ³jiÄ", viet: "Äáº¥t nÆ°á»›c" }, { char: "è©¦", pinyin: "shÃ¬", viet: "Thá»­" }
        ],
        grammar: [{ title: "Cáº¥u trÃºc å…ˆ...å†... (xiÄn...zÃ i...)", content: "TrÆ°á»›c tiÃªn...sau Ä‘Ã³..." }, { title: "Nháº¥n máº¡nh vá»›i æ˜¯...çš„ (shÃ¬...de)", content: "DÃ¹ng Ä‘á»ƒ nháº¥n máº¡nh thÃ nh pháº§n cá»§a hÃ nh Ä‘á»™ng Ä‘Ã£ xáº£y ra trong quÃ¡ khá»©." }, { title: "ä»¥å¾Œ (yÇhÃ²u)", content: "Sau nÃ y, sau khi." }, { title: "NghÄ©a Ä‘áº·c biá»‡t cá»§a å¥½/é›£ + Äá»™ng tá»«", content: "<b>å¥½</b> lÃ  dá»…, <b>é›£</b> lÃ  khÃ³. (VÃ­ dá»¥: ä¸­æ–‡ä¸å¥½å­¸)." }
        ]
    },
    {
        id: 13,
        title: "BÃ i 13: ç”Ÿæ—¥å¿«æ¨‚",
        vocab: [{ char: "ç”Ÿæ—¥", pinyin: "shÄ“ngrÃ¬", viet: "Sinh nháº­t" }, { char: "å¿«æ¨‚", pinyin: "kuÃ ilÃ¨", viet: "Vui váº»" }, { char: "å›ä¾†", pinyin: "huÃ­lÃ¡i", viet: "Quay vá»" }, { char: "å•Š", pinyin: "a", viet: "(ThÃ¡n tá»«)" }, { char: "æ€éº¼", pinyin: "zÄ›nme", viet: "Sao láº¡i" }, { char: "å¿˜äº†", pinyin: "wÃ ngle", viet: "QuÃªn rá»“i" }, { char: "è¨˜å¾—", pinyin: "jÃ¬de", viet: "Nhá»›" }, { char: "ç•¶ç„¶", pinyin: "dÄngrÃ¡n", viet: "ÄÆ°Æ¡ng nhiÃªn" }, { char: "èªè¨€", pinyin: "yÇ”yÃ¡n", viet: "NgÃ´n ngá»¯" }, { char: "äº¤æ›", pinyin: "jiÄohuÃ n", viet: "Trao Ä‘á»•i" }, { char: "é‚£éº¼", pinyin: "nÃ me", viet: "NhÆ° váº­y" }, { char: "ç†±å¿ƒ", pinyin: "rÃ¨xÄ«n", viet: "Nhiá»‡t tÃ¬nh" }, { char: "è¥¿ç­ç‰™æ–‡", pinyin: "XÄ«bÄnyÃ¡wÃ©n", viet: "Tiáº¿ng TBN" }, { char: "ä¸€æ¨£", pinyin: "yÃ­yÃ ng", viet: "Giá»‘ng nhau" }, { char: "é", pinyin: "guÃ²", viet: "ÄÃ³n (sinh nháº­t)" }, { char: "å·¦å³", pinyin: "zuÇ’yÃ²u", viet: "Khoáº£ng" }, { char: "é–€å£", pinyin: "mÃ©nkÇ’u", viet: "Cá»•ng" }, { char: "ç¦®ç‰©", pinyin: "lÇwÃ¹", viet: "QuÃ " }, { char: "ä»Šå¹´", pinyin: "jÄ«nniÃ¡n", viet: "NÄƒm nay" }, { char: "è¨‚", pinyin: "dÃ¬ng", viet: "Äáº·t trÆ°á»›c" }, { char: "äº†", pinyin: "le", viet: "(Äá»™ng thÃ¡i tá»«)" }, { char: "è±¬è…³éºµç·š", pinyin: "zhÅ«jiÇo miÃ nxiÃ n", viet: "MÃ¬ sá»£i heo" }, { char: "è›‹", pinyin: "dÃ n", viet: "Trá»©ng" }, { char: "ä¸€é»", pinyin: "yÃ¬diÇn", viet: "Má»™t chÃºt" }, { char: "å‚³çµ±", pinyin: "chuÃ¡ntÇ’ng", viet: "Truyá»n thá»‘ng" }, { char: "å¹´è¼•", pinyin: "niÃ¡nqÄ«ng", viet: "Tráº»" }, { char: "è›‹ç³•", pinyin: "dÃ ngÄo", viet: "BÃ¡nh ngá»t" }, { char: "å°", pinyin: "duÃ¬", viet: "Äá»‘i vá»›i" }, { char: "ç¥", pinyin: "zhÃ¹", viet: "ChÃºc" }
        ],
        grammar: [{ title: "Cáº¥u trÃºc ä¸€...å°±... (yÄ«...jiÃ¹...)", content: "Há»…...lÃ ..." }, { title: "Äá»™ng thÃ¡i tá»« äº† (le)", content: "Biá»ƒu thá»‹ hÃ nh Ä‘á»™ng Ä‘Ã£ hoÃ n thÃ nh." }, { title: "PhÃ¢n biá»‡t phá»§ Ä‘á»‹nh ä¸ vÃ  æ²’", content: "<b>ä¸</b> dÃ¹ng cho hiá»‡n táº¡i/tÆ°Æ¡ng lai; <b>æ²’</b> dÃ¹ng cho quÃ¡ khá»© vÃ  phá»§ Ä‘á»‹nh cá»§a <b>æœ‰</b>." }, { title: "CÃ¢u bao hÃ m vá»›i tá»« nghi váº¥n", content: "Cáº¥u trÃºc: <b>Tá»« nghi váº¥n + éƒ½/ä¹Ÿ</b>. (VÃ­ dá»¥: æˆ‘ä»€éº¼éƒ½åƒ)." }, { title: "å¤š/å°‘ + Äá»™ng tá»«", content: "LÃ m gÃ¬ Ä‘Ã³ nhiá»u hÆ¡n/Ã­t hÆ¡n." }, { title: "æ˜¯ä¸æ˜¯ (shÃ¬ bÃº shÃ¬)", content: "DÃ¹ng Ä‘á»ƒ xÃ¡c nháº­n thÃ´ng tin." }, { title: "So sÃ¡nh vá»›i è·Ÿ...ä¸€æ¨£...", content: "Cáº¥u trÃºc: <b>A è·Ÿ B ä¸€æ¨£ (+ tÃ­nh tá»«)</b>." }
        ]
    },
    {
        id: 14,
        title: "BÃ i 14: å¤©æ°£é€™éº¼å†·ï¼",
        vocab: [{ char: "å¤©æ°£", pinyin: "tiÄnqÃ¬", viet: "Thá»i tiáº¿t" }, { char: "å†·", pinyin: "lÄ›ng", viet: "Láº¡nh" }, { char: "é¢¨", pinyin: "fÄ“ng", viet: "GiÃ³" }, { char: "æ»‘é›ª", pinyin: "huÃ¡xuÄ›", viet: "TrÆ°á»£t tuyáº¿t" }, { char: "æ˜¥å¤©", pinyin: "chÅ«ntiÄn", viet: "MÃ¹a xuÃ¢n" }, { char: "æƒ³", pinyin: "xiÇng", viet: "Nhá»›" }, { char: "æ–°å¹´", pinyin: "xÄ«nniÃ¡n", viet: "NÄƒm má»›i" }, { char: "å¿«", pinyin: "kuÃ i", viet: "Sáº¯p" }, { char: "çˆ¶æ¯", pinyin: "fÃ¹mÇ”", viet: "Bá»‘ máº¹" }, { char: "å†¬å¤©", pinyin: "dÅngtiÄn", viet: "MÃ¹a Ä‘Ã´ng" }, { char: "æ˜å¹´", pinyin: "mÃ­ngniÃ¡n", viet: "NÄƒm sau" }, { char: "ç§‹å¤©", pinyin: "qiÅ«tiÄn", viet: "MÃ¹a thu" }, { char: "ç´…è‘‰", pinyin: "hÃ³ngyÃ¨", viet: "LÃ¡ Ä‘á»" }, { char: "åª", pinyin: "zhÇ", viet: "Chá»‰" }, { char: "ä¸‹é›ª", pinyin: "xiÃ xuÄ›", viet: "Tuyáº¿t rÆ¡i" }, { char: "é›¨", pinyin: "yÇ”", viet: "MÆ°a" }, { char: "å‚˜", pinyin: "sÇn", viet: "Ã”, dÃ¹" }, { char: "é¢±é¢¨", pinyin: "tÃ¡ifÄ“ng", viet: "BÃ£o" }, { char: "è¦", pinyin: "yÃ o", viet: "Sáº½" }, { char: "å¤å¤©", pinyin: "xiÃ tiÄn", viet: "MÃ¹a hÃ¨" }, { char: "æ¿•", pinyin: "shÄ«", viet: "áº¨m Æ°á»›t" }, { char: "è¨å­", pinyin: "tÇoyÃ n", viet: "GhÃ©t" }, { char: "æ–°è", pinyin: "xÄ«nwÃ©n", viet: "Tin tá»©c" }, { char: "æ›´", pinyin: "gÃ¨ng", viet: "CÃ ng" }, { char: "å¤§å®¶", pinyin: "dÃ jiÄ", viet: "Má»i ngÆ°á»i" }, { char: "å°å¿ƒ", pinyin: "xiÇoxÄ«n", viet: "Cáº©n tháº­n" }, { char: "å¯æ€•", pinyin: "kÄ›pÃ ", viet: "ÄÃ¡ng sá»£" }, { char: "åœ", pinyin: "tÃ­ng", viet: "Dá»«ng" }
        ],
        grammar: [{ title: "Thá»i Ä‘oáº¡n sau Äá»™ng tá»« + äº†", content: "Biá»ƒu thá»‹ thá»i gian kÃ©o dÃ i cá»§a hÃ nh Ä‘á»™ng Ä‘Ã£ hoÃ n thÃ nh." }, { title: "Cáº¥u trÃºc 'äº†' kÃ©p", content: "Cáº¥u trÃºc: <b>V + äº† + Thá»i Ä‘oáº¡n + äº†</b>, biá»ƒu thá»‹ hÃ nh Ä‘á»™ng Ä‘Ã£ vÃ  Ä‘ang tiáº¿p diá»…n." }, { title: "Cáº¥u trÃºc å¿«...äº† (kuÃ i...le)", content: "Sáº¯p...rá»“i." }, { title: "So sÃ¡nh vá»›i æ›´ (gÃ¨ng)", content: "CÃ ng... (VÃ­ dá»¥: ä»Šå¤©æ¯”æ˜¨å¤©æ›´å†·)." }, { title: "So sÃ¡nh kÃ©m hÆ¡n vá»›i æ²’æœ‰", content: "Cáº¥u trÃºc: <b>A æ²’æœ‰ B + TÃ­nh tá»«</b>." }
        ]
    },
    {
        id: 15,
        title: "BÃ i 15: æˆ‘å¾ˆä¸èˆ’æœ",
        vocab: [{ char: "é†«ç”Ÿ", pinyin: "yÄ«shÄ“ng", viet: "BÃ¡c sÄ©" }, { char: "ä¸€ç›´", pinyin: "yÃ¬zhÃ­", viet: "LiÃªn tá»¥c" }, { char: "æµ", pinyin: "liÃº", viet: "Cháº£y" }, { char: "é¼»æ°´", pinyin: "bÃ­shuÇ", viet: "NÆ°á»›c mÅ©i" }, { char: "é ­", pinyin: "tÃ³u", viet: "Äáº§u" }, { char: "ç—›", pinyin: "tÃ²ng", viet: "Äau" }, { char: "èƒƒå£", pinyin: "wÃ¨ikÇ’u", viet: "Kháº©u vá»‹" }, { char: "å·®", pinyin: "chÃ ", viet: "KÃ©m" }, { char: "å–‰åš¨", pinyin: "hÃ³ulÃ³ng", viet: "Há»ng" }, { char: "ç™¼ç‚", pinyin: "fÄyÃ¡n", viet: "ViÃªm" }, { char: "ç”Ÿç—…", pinyin: "shÄ“ngbÃ¬ng", viet: "Bá»‹ bá»‡nh" }, { char: "ç™¼ç‡’", pinyin: "fÄshÄo", viet: "Sá»‘t" }, { char: "æ„Ÿå†’", pinyin: "gÇnmÃ o", viet: "Cáº£m cÃºm" }, { char: "è—¥", pinyin: "yÃ o", viet: "Thuá»‘c" }, { char: "è—¥å±€", pinyin: "yÃ ojÃº", viet: "Hiá»‡u thuá»‘c" }, { char: "æ‹¿", pinyin: "nÃ¡", viet: "Láº¥y" }, { char: "æŠŠ", pinyin: "bÇ", viet: "(CÃ¢u chá»¯ æŠŠ)" }, { char: "æ°´", pinyin: "shuÇ", viet: "NÆ°á»›c" }, { char: "ä¼‘æ¯", pinyin: "xiÅ«xi", viet: "Nghá»‰ ngÆ¡i" }, { char: "ç¡è¦º", pinyin: "shuÃ¬jiÃ o", viet: "Ngá»§" }, { char: "è‡‰è‰²", pinyin: "liÇnsÃ¨", viet: "Sáº¯c máº·t" }, { char: "é›£çœ‹", pinyin: "nÃ¡nkÃ n", viet: "KhÃ³ coi" }, { char: "è‚šå­", pinyin: "dÃ¹zi", viet: "Bá»¥ng" }, { char: "å", pinyin: "tÃ¹", viet: "NÃ´n" }, { char: "æ¬¡", pinyin: "cÃ¬", viet: "Láº§n" }, { char: "é™ª", pinyin: "pÃ©i", viet: "Äi cÃ¹ng" }, { char: "çœ‹ç—…", pinyin: "kÃ nbÃ¬ng", viet: "KhÃ¡m bá»‡nh" }, { char: "å¥åº·", pinyin: "jiÃ nkÄng", viet: "Sá»©c khá»e" }, { char: "ä¿éšª", pinyin: "bÇoxiÇn", viet: "Báº£o hiá»ƒm" }, { char: "æ²¹", pinyin: "yÃ³u", viet: "Dáº§u má»¡" }, { char: "å†°", pinyin: "bÄ«ng", viet: "Láº¡nh, Ä‘Ã¡" }, { char: "åˆ¥", pinyin: "biÃ©", viet: "Äá»«ng" }, { char: "é—œå¿ƒ", pinyin: "guÄnxÄ«n", viet: "Quan tÃ¢m" }, { char: "åŒ…", pinyin: "bÄo", viet: "GÃ³i" }, { char: "ç¡", pinyin: "shuÃ¬", viet: "Ngá»§" }, { char: "å°æ™‚", pinyin: "xiÇoshÃ­", viet: "Giá» Ä‘á»“ng há»“" }
        ],
        grammar: [{ title: "CÃ¢u biá»ƒu thá»‹ thÃ¡i Ä‘á»™ khÃ´ng cháº¯c cháº¯n", content: "DÃ¹ng tá»« nghi váº¥n trong cÃ¢u tráº§n thuáº­t phá»§ Ä‘á»‹nh." }, { title: "CÃ¢u chá»¯ æŠŠ (bÇ)", content: "Cáº¥u trÃºc: <b>Chá»§ ngá»¯ + æŠŠ + TÃ¢n ngá»¯ + Äá»™ng tá»« + ...</b>, nháº¥n máº¡nh sá»± xá»­ lÃ½ Ä‘á»‘i vá»›i tÃ¢n ngá»¯." }, { title: "Cáº¥u trÃºc Väº†...å°±...", content: "LÃ m xong V rá»“i thÃ¬..." }, { title: "ä¸€é» (yÃ¬diÇn)", content: "Má»™t chÃºt (nhiá»u cÃ¡ch dÃ¹ng)." }, { title: "So sÃ¡nh hÃ nh Ä‘á»™ng vá»›i bá»• ngá»¯ å¾—", content: "Cáº¥u trÃºc: <b>Äá»™ng tá»« + å¾— + æ¯” + Äá»‘i tÆ°á»£ng + TÃ­nh tá»«</b>." }, { title: "Äá»™ng tá»« ly há»£p", content: "CÃ¡c Ä‘á»™ng tá»« cÃ³ cáº¥u trÃºc <b>Äá»™ng-TÃ¢n</b> cÃ³ thá»ƒ tÃ¡ch ra." }
        ]
    }
];
        document.addEventListener('DOMContentLoaded', function() {
            const mainContent = document.getElementById('main-content');
            const mobileHeaderTitle = document.getElementById('mobile-header-title');
            
            let chart = null;
            const appState = {
                currentView: 'dashboard',
                currentLessonId: null,
                notebookWords: [],
                writingPracticeChars: [],
                currentWritingCharIndex: 0,
                srsData: { cards: [] },   // SRS data for flashcards
                customDecks: [],          // User-created flashcard decks
                vocabNotes: {},           // User notes for vocabulary
                quizStats: {}             // Statistics for quiz performance
            };

            function saveState() {
                localStorage.setItem('chineseAppNotebook', JSON.stringify(appState.notebookWords));
                localStorage.setItem('chineseAppSRS', JSON.stringify(appState.srsData));
                localStorage.setItem('chineseAppDecks', JSON.stringify(appState.customDecks));
                localStorage.setItem('chineseAppNotes', JSON.stringify(appState.vocabNotes));
                localStorage.setItem('chineseAppStats', JSON.stringify(appState.quizStats));
            }

            function loadState() {
                const savedNotebook = localStorage.getItem('chineseAppNotebook');
                if (savedNotebook) {
                    try {
                        appState.notebookWords = JSON.parse(savedNotebook);
                    } catch(e) {
                        appState.notebookWords = [];
                    }
                }
                
                // Load SRS data
                const savedSRS = localStorage.getItem('chineseAppSRS');
                if (savedSRS) {
                    try {
                        appState.srsData = JSON.parse(savedSRS);
                    } catch(e) {
                        appState.srsData = { cards: [] };
                    }
                }
                
                // Load custom decks
                const savedDecks = localStorage.getItem('chineseAppDecks');
                if (savedDecks) {
                    try {
                        appState.customDecks = JSON.parse(savedDecks);
                    } catch(e) {
                        appState.customDecks = [];
                    }
                }
                
                // Load vocab notes
                const savedNotes = localStorage.getItem('chineseAppNotes');
                if (savedNotes) {
                    try {
                        appState.vocabNotes = JSON.parse(savedNotes);
                    } catch(e) {
                        appState.vocabNotes = {};
                    }
                }
                
                // Load quiz stats
                const savedStats = localStorage.getItem('chineseAppStats');
                if (savedStats) {
                    try {
                        appState.quizStats = JSON.parse(savedStats);
                    } catch(e) {
                        appState.quizStats = {};
                    }
                }
            }
            
            function init() {
                loadState();
                setupEventListeners();
                renderView(appState.currentView);
                updateActiveNav(appState.currentView);
            }

            function setupEventListeners() {
                document.querySelectorAll('[data-view]').forEach(btn => {
                    btn.addEventListener('click', () => {
                        const view = btn.dataset.view;
                        const title = btn.dataset.title || 'Há»c Tiáº¿ng Trung';
                        switchView(view);
                        mobileHeaderTitle.textContent = title;
                    });
                });
            }

            function switchView(view, lessonId = null) {
                appState.currentView = view;
                if(lessonId) appState.currentLessonId = lessonId;
                renderView(view);
                updateActiveNav(view);
            }
            
            function updateActiveNav(view) {
                document.querySelectorAll('[data-view]').forEach(btn => {
                    btn.classList.toggle('active', btn.dataset.view === view);
                });
            }

            function renderView(view) {
                mainContent.innerHTML = ''; // Clear content
                switch(view) {
                    case 'dashboard': renderDashboard(); break;
                    case 'lessons': renderLessonsList(); break;
                    case 'lessonDetail': renderLessonDetailView(appState.currentLessonId); break;
                    case 'notebook': renderNotebook(); break;
                    case 'writing': renderWritingPractice(); break;
                    
                    // VisualizaÃ§Ãµes aprimoradas
                    case 'flashcards': renderEnhancedFlashcardView(appState.currentLessonId); break;
                    case 'oldFlashcards': renderFlashcardView(appState.currentLessonId); break;
                    case 'quiz': renderQuizView(appState.currentLessonId); break;
                    case 'dailyChallenge': renderDailyChallenge(); break;
                    case 'customDecks': renderCustomDecksView(); break;
                    case 'vocabDetail': 
                        const lesson = lessonsData.find(l => l.id === appState.currentLessonId);
                        if (lesson) {
                            const word = lesson.vocab.find(w => w.char === appState.currentChar);
                            if (word) renderHanziDetailView(word, appState.currentLessonId);
                        }
                        break;
                }
            }

            function renderDashboard() {
                mainContent.innerHTML = `
                    <div class="space-y-6 md:space-y-8">
                        <div>
                            <h2 class="text-3xl font-bold text-stone-800">Báº£ng Ä‘iá»u khiá»ƒn</h2>
                            <p class="text-stone-600 mt-1">ChÃ o má»«ng báº¡n trá»Ÿ láº¡i!</p>
                        </div>
                        
                        <!-- CartÃµes de revisÃ£o diÃ¡ria -->
                        <div class="bg-white p-6 rounded-xl shadow-md border-l-4 border-accent">
                            <div class="flex justify-between items-center">
                                <div>
                                    <h3 class="font-semibold text-lg text-stone-800">RevisÃ£o SRS hoje</h3>
                                    <p class="text-stone-600" id="due-cards-count">Carregando...</p>
                                </div>
                                <button id="start-review-btn" class="px-4 py-2 bg-accent text-white rounded-lg hover:bg-opacity-90 transition">
                                    Iniciar revisÃ£o
                                </button>
                            </div>
                        </div>
                        
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6">
                             <div class="bg-white p-6 rounded-xl shadow-sm border border-stone-200">
                                <h3 class="font-semibold text-stone-700 mb-2">Tiáº¿n Ä‘á»™ há»c</h3>
                                <div class="text-4xl font-bold text-accent">${appState.notebookWords.length}</div>
                                <p class="text-stone-500">tá»« Ä‘Ã£ lÆ°u trong sá»• tay.</p>
                                <button id="start-daily-challenge" class="mt-3 px-4 py-2 bg-accent text-white w-full rounded-lg hover:bg-opacity-90 transition">
                                    Desafio diÃ¡rio de 10 palavras
                                </button>
                             </div>
                             <div class="bg-white p-6 rounded-xl shadow-sm border border-stone-200">
                                <h3 class="font-semibold text-stone-700 mb-2">Gá»£i Ã½ hÃ´m nay</h3>
                                <button class="w-full bg-accent text-white px-4 py-3 rounded-lg hover:opacity-90 transition font-semibold mb-2" onclick="window.app.switchView('writing')">
                                    Luyá»‡n viáº¿t ngay!
                                </button>
                                <button class="w-full bg-stone-200 text-stone-700 px-4 py-3 rounded-lg hover:bg-stone-300 transition font-semibold" id="create-custom-deck">
                                    Táº¡o bá»™ flashcard tÃ¹y chá»‰nh
                                </button>
                            </div>
                        </div>
                        
                        <div class="bg-white p-4 md:p-6 rounded-xl shadow-md">
                             <h3 class="text-xl font-semibold mb-4 text-stone-700">LÆ°á»£ng tá»« vá»±ng má»—i bÃ i</h3>
                             <div class="relative w-full mx-auto h-64 md:h-80"><canvas id="overview-chart"></canvas></div>
                        </div>
                    </div>`;
                
                // Renderizar grÃ¡fico
                renderOverviewChart();
                
                // Atualizar contador de cartÃµes para revisÃ£o
                const dueCards = getDueCards();
                const countElement = document.getElementById('due-cards-count');
                if (dueCards.length === 0) {
                    countElement.textContent = 'KhÃ´ng cÃ³ tháº» Ä‘á»ƒ xem láº¡i!';
                } else {
                    countElement.textContent = `${dueCards.length} tháº» cáº§n xem láº¡i hÃ´m nay`;
                }
                
                // Configurar eventos de botÃµes
                document.getElementById('start-review-btn').addEventListener('click', () => {
                    if (dueCards.length === 0) {
                        alert('NÃ£o hÃ¡ cartÃµes para revisar hoje!');
                    } else {
                        // Iniciar sessÃ£o de revisÃ£o SRS
                        appState.currentSRSReview = dueCards;
                        switchView('flashcards');
                    }
                });
                
                document.getElementById('start-daily-challenge').addEventListener('click', () => {
                    switchView('dailyChallenge');
                });
                
                document.getElementById('create-custom-deck').addEventListener('click', () => {
                    showCreateDeckDialog();
                });
            }

            function renderLessonsList() {
                let listHtml = `<h2 class="text-3xl font-bold text-stone-800 mb-6">Danh sÃ¡ch bÃ i há»c</h2><div class="space-y-3">`;
                lessonsData.forEach(lesson => {
                    listHtml += `
                        <button onclick="window.app.switchView('lessonDetail', ${lesson.id})" class="w-full text-left p-4 bg-white rounded-xl shadow-sm border border-stone-200 hover:border-accent hover:shadow-md transition flex justify-between items-center">
                            <div>
                                <p class="text-sm font-semibold text-accent">BÃ i ${lesson.id}</p>
                                <h3 class="text-lg font-bold text-stone-800">${lesson.title.split(':')[1].trim()}</h3>
                            </div>
                            <span class="text-2xl text-stone-400">â€º</span>
                        </button>`;
                });
                listHtml += `</div>`;
                mainContent.innerHTML = listHtml;
            }

            function renderLessonDetailView(lessonId) {
                const lesson = lessonsData.find(l => l.id === lessonId);
                if (!lesson) { switchView('lessons'); return; }
                mainContent.innerHTML = `
                    <div class="flex items-center mb-6">
                         <button onclick="window.app.switchView('lessons')" class="mr-2 p-2 rounded-full hover:bg-stone-200 transition">â€¹</button>
                         <h2 class="text-2xl md:text-3xl font-bold text-stone-800">${lesson.title}</h2>
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
                        <button onclick="window.app.switchView('flashcards', ${lesson.id})" class="bg-white p-4 rounded-xl shadow-sm border text-left hover:border-accent transition">
                            <h4 class="font-semibold text-stone-800 flex items-center gap-2"><span class="text-2xl">ğŸ´</span>Ã”n táº­p Flashcard SRS</h4>
                            <p class="text-sm text-stone-600">Há»‡ thá»‘ng há»c tá»« vá»±ng thÃ´ng minh vá»›i láº·p láº¡i ngáº¯t quÃ£ng.</p>
                        </button>
                        <button onclick="window.app.switchView('quiz', ${lesson.id})" class="bg-white p-4 rounded-xl shadow-sm border text-left hover:border-accent transition">
                            <h4 class="font-semibold text-stone-800 flex items-center gap-2"><span class="text-2xl">âœï¸</span>LÃ m bÃ i kiá»ƒm tra</h4>
                            <p class="text-sm text-stone-600">Kiá»ƒm tra kiáº¿n thá»©c vá»›i nhiá»u dáº¡ng bÃ i táº­p khÃ¡c nhau.</p>
                        </button>
                    </div>
                    <div class="mb-6"><div class="border-b border-stone-200"><nav class="-mb-px flex space-x-8" aria-label="Tabs"><button id="tab-vocab" class="tab-btn whitespace-nowrap py-4 px-1 border-b-2 font-medium text-lg border-accent text-accent">Tá»« vá»±ng</button><button id="tab-grammar" class="tab-btn whitespace-nowrap py-4 px-1 border-b-2 font-medium text-lg border-transparent text-stone-500 hover:text-stone-700 hover:border-stone-300">Ngá»¯ phÃ¡p</button></nav></div></div>
                    <div id="vocab-content"></div><div id="grammar-content" class="hidden"></div>`;
                
                renderVocabulary(lesson);
                renderGrammar(lesson.grammar);
                setupTabs();
            }

            function renderVocabulary(lesson) {
                const vocabContainer = mainContent.querySelector('#vocab-content');
                let gridHtml = '<div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4">';
                lesson.vocab.forEach(word => {
                    const isSaved = appState.notebookWords.some(w => w.char === word.char && w.lessonId === lesson.id);
                    gridHtml += `
                        <div class="bg-white p-4 rounded-xl shadow-sm border border-stone-200 flex justify-between items-start">
                            <div>
                                <p class="text-2xl font-bold text-stone-800">${word.char}</p>
                                <p class="text-stone-500">${word.pinyin}</p>
                                <p class="mt-1 text-stone-600">${word.viet}</p>
                            </div>
                            <div class="flex flex-col items-center gap-2">
                                <button class="play-audio-btn text-xl text-stone-400 hover:text-accent transition" data-char="${word.char}">ğŸ”Š</button>
                                <button class="save-word-btn text-xl ${isSaved ? 'text-yellow-500' : 'text-stone-300'} hover:text-yellow-400 transition" data-word='${JSON.stringify({...word, lessonId: lesson.id})}'>â­</button>
                            </div>
                        </div>`;
                });
                gridHtml += '</div>';
                vocabContainer.innerHTML = gridHtml;
                vocabContainer.querySelectorAll('.play-audio-btn').forEach(btn => btn.addEventListener('click', (e) => playAudio(e.currentTarget.dataset.char)));
                vocabContainer.querySelectorAll('.save-word-btn').forEach(btn => btn.addEventListener('click', (e) => toggleNotebookWord(e.currentTarget)));
            }
            
            function renderGrammar(grammarList) {
                const container = mainContent.querySelector('#grammar-content');
                let html = '<div class="space-y-4">';
                grammarList.forEach((rule) => {
                    html += `<div class="bg-white rounded-xl shadow-sm border border-stone-200 overflow-hidden"><button class="accordion-toggle w-full text-left p-4 flex justify-between items-center hover:bg-stone-50 transition"><h4 class="text-lg font-semibold text-stone-800">${rule.title}</h4><span class="transform transition-transform duration-300 text-stone-500">â–¼</span></button><div class="accordion-content px-4 pb-4 text-stone-600 leading-relaxed text-base">${rule.content}</div></div>`;
                });
                html += '</div>';
                container.innerHTML = html;
                setupAccordions();
            }

            function renderFlashcardView(lessonId) {
                const lesson = lessonsData.find(l => l.id === lessonId);
                if (!lesson) { switchView('lessons'); return; }
                mainContent.innerHTML = `
                    <div class="flex items-center mb-6">
                        <button onclick="window.app.switchView('lessonDetail', ${lessonId})" class="mr-2 p-2 rounded-full hover:bg-stone-200 transition">â€¹</button>
                        <h2 class="text-2xl md:text-3xl font-bold text-stone-800">Flashcards: ${lesson.title.split(':')[1].trim()}</h2>
                    </div>
                    <div id="flashcard-main">
                        <div class="flashcard-container max-w-lg mx-auto">
                            <div id="flashcard" class="flashcard"><div class="flashcard-face flashcard-front" id="flashcard-front"></div><div class="flashcard-face flashcard-back" id="flashcard-back"></div></div>
                        </div>
                        <div class="flex justify-between items-center mt-6 max-w-lg mx-auto">
                            <button id="prev-card" class="px-4 py-2 bg-white border border-stone-300 rounded-lg shadow-sm hover:bg-stone-100 transition">â¬…ï¸ Tá»« trÆ°á»›c</button>
                            <p id="card-counter" class="text-stone-600 font-medium"></p>
                            <button id="next-card" class="px-4 py-2 bg-white border border-stone-300 rounded-lg shadow-sm hover:bg-stone-100 transition">Tá»« sau â¡ï¸</button>
                        </div>
                    </div>`;

                const vocab = lesson.vocab;
                let currentIndex = 0;
                const card = mainContent.querySelector('#flashcard');
                const front = mainContent.querySelector('#flashcard-front');
                const back = mainContent.querySelector('#flashcard-back');
                const counter = mainContent.querySelector('#card-counter');
                
                function updateCard() {
                    card.classList.remove('is-flipped');
                    setTimeout(() => {
                        const word = vocab[currentIndex];
                        front.innerHTML = `<div class="flex flex-col items-center"><p class="text-5xl font-extrabold text-stone-800">${word.char}</p><p class="mt-2 text-stone-500">${word.pinyin}</p></div>`;
                        back.innerHTML = `<p class="text-3xl font-bold">${word.viet}</p>`;
                        counter.textContent = `${currentIndex + 1} / ${vocab.length}`;
                    }, 200);
                }

                card.onclick = () => card.classList.toggle('is-flipped');
                mainContent.querySelector('#prev-card').onclick = () => { currentIndex = (currentIndex - 1 + vocab.length) % vocab.length; updateCard(); };
                mainContent.querySelector('#next-card').onclick = () => { currentIndex = (currentIndex + 1) % vocab.length; updateCard(); };
                updateCard();
            }

            // VersÃ£o aprimorada do Flashcard com SRS
            function renderEnhancedFlashcardView(lessonId, customDeckId = null) {
                // Constantes para o sistema SRS
                const SRS_INTERVALS = [0, 1, 3, 7, 14, 30, 90, 180]; // Intervalos em dias
                
                let vocab = [];
                let title = "";
                
                if (customDeckId !== null) {
                    const deck = appState.customDecks.find(d => d.id === customDeckId);
                    if (deck) {
                        vocab = deck.words;
                        title = deck.name;
                    } else {
                        switchView('dashboard');
                        return;
                    }
                } else {
                    const lesson = lessonsData.find(l => l.id === lessonId);
                    if (!lesson) { switchView('lessons'); return; }
                    vocab = lesson.vocab;
                    title = lesson.title.split(':')[1].trim();
                    
                    // Garantir que cada palavra tenha um cartÃ£o SRS
                    vocab.forEach(word => {
                        createOrUpdateSRSCard(word, lessonId);
                    });
                }
                
                mainContent.innerHTML = `
                    <div class="flex items-center mb-6">
                        <button onclick="window.app.switchView('${customDeckId ? 'customDecks' : 'lessonDetail'}', ${customDeckId || lessonId})" class="mr-2 p-2 rounded-full hover:bg-stone-200 transition">â€¹</button>
                        <h2 class="text-2xl md:text-3xl font-bold text-stone-800">Flashcards: ${title}</h2>
                    </div>
                    
                    <div class="bg-white rounded-xl shadow p-4 mb-6">
                        <div class="mb-4 flex flex-wrap gap-3">
                            <button id="mode-flip" class="px-3 py-2 rounded bg-accent text-white">Láº­t tháº»</button>
                            <button id="mode-quiz" class="px-3 py-2 rounded bg-white border border-stone-300">Tráº¯c nghiá»‡m</button>
                            <button id="mode-type" class="px-3 py-2 rounded bg-white border border-stone-300">GÃµ chá»¯</button>
                        </div>
                        
                        <div class="flex items-center justify-between text-sm mb-2">
                            <div>
                                <span class="font-medium text-accent">Tá»± Ä‘á»™ng phÃ¡t Ã¢m:</span>
                                <label class="inline-flex items-center cursor-pointer ml-2">
                                    <div class="relative">
                                        <input type="checkbox" id="autoplay-toggle" class="sr-only peer" checked>
                                        <div class="w-9 h-5 bg-gray-200 rounded-full peer-checked:bg-accent peer"></div>
                                        <div class="absolute left-1 top-1 bg-white w-3 h-3 rounded-full transition-transform peer-checked:translate-x-4"></div>
                                    </div>
                                </label>
                            </div>
                            <select id="study-direction" class="px-2 py-1 border rounded text-sm">
                                <option value="char-to-viet">HÃ¡n â†’ Viá»‡t</option>
                                <option value="viet-to-char">Viá»‡t â†’ HÃ¡n</option>
                                <option value="pinyin-to-char">Pinyin â†’ HÃ¡n</option>
                            </select>
                        </div>
                    </div>

                    <div id="flashcard-main">
                        <div id="flip-mode" class="mb-6">
                            <div class="flashcard-container max-w-lg mx-auto">
                                <div id="flashcard" class="flashcard mb-4">
                                    <div class="flashcard-face flashcard-front" id="flashcard-front"></div>
                                    <div class="flashcard-face flashcard-back" id="flashcard-back"></div>
                                </div>
                                <div id="example-sentence" class="bg-stone-100 p-3 rounded-lg text-center mb-4 hidden"></div>
                            </div>
                            <div class="flex justify-between items-center mt-4 max-w-lg mx-auto">
                                <button id="prev-card" class="px-4 py-2 bg-white border border-stone-300 rounded-lg shadow-sm hover:bg-stone-100 transition">â¬…ï¸ Tá»« trÆ°á»›c</button>
                                <p id="card-counter" class="text-stone-600 font-medium"></p>
                                <button id="next-card" class="px-4 py-2 bg-white border border-stone-300 rounded-lg shadow-sm hover:bg-stone-100 transition">Tá»« sau â¡ï¸</button>
                            </div>
                            <div class="flex justify-center gap-3 mt-4 max-w-lg mx-auto">
                                <button id="mark-hard" class="px-3 py-2 bg-red-200 text-red-800 rounded">KhÃ³</button>
                                <button id="mark-good" class="px-3 py-2 bg-blue-200 text-blue-800 rounded">Biáº¿t</button>
                                <button id="mark-easy" class="px-3 py-2 bg-green-200 text-green-800 rounded">Dá»…</button>
                            </div>
                        </div>
                        
                        <div id="quiz-mode" class="hidden">
                            <!-- Interface do modo quiz serÃ¡ inserida aqui -->
                        </div>
                        
                        <div id="typing-mode" class="hidden">
                            <!-- Interface do modo digitaÃ§Ã£o serÃ¡ inserida aqui -->
                        </div>
                    </div>
                `;

                setupFlashcardModes(vocab, lessonId);
            }
            
            // FunÃ§Ãµes para o sistema SRS
            function createOrUpdateSRSCard(word, lessonId) {
                const wordId = `${lessonId}-${word.char}`;
                const existingCardIndex = appState.srsData.cards.findIndex(
                    card => card.wordId === wordId
                );
                
                if (existingCardIndex > -1) {
                    return appState.srsData.cards[existingCardIndex];
                }
                
                // Criar novo cartÃ£o
                const newCard = {
                    wordId: wordId,
                    lessonId: lessonId,
                    char: word.char,
                    pinyin: word.pinyin,
                    viet: word.viet,
                    nextReview: new Date().getTime(),
                    level: 0,
                    streak: 0,
                    lastResult: null
                };
                
                appState.srsData.cards.push(newCard);
                saveState();
                return newCard;
            }
            
            // Atualizar cartÃ£o SRS com base no resultado da revisÃ£o
            function updateSRSCard(card, isCorrect) {
                const SRS_INTERVALS = [0, 1, 3, 7, 14, 30, 90, 180]; // Intervalos em dias
                
                if (isCorrect) {
                    card.streak++;
                    if (card.streak >= 2 && card.level < SRS_INTERVALS.length - 1) {
                        card.level++;
                        card.streak = 0;
                    }
                } else {
                    card.streak = 0;
                    card.level = Math.max(0, card.level - 1);
                }
                
                // Calcular prÃ³xima revisÃ£o
                const now = new Date();
                const nextInterval = SRS_INTERVALS[card.level];
                card.nextReview = new Date(now.setDate(now.getDate() + nextInterval)).getTime();
                card.lastResult = isCorrect ? 'correct' : 'incorrect';
                
                saveState();
            }
            
            // Obter cartÃµes que precisam de revisÃ£o hoje
            function getDueCards() {
                const now = new Date().getTime();
                return appState.srsData.cards.filter(card => card.nextReview <= now);
            }
            
            // Configurar modos de flashcard
            function setupFlashcardModes(vocab, sourceId) {
                // ConfiguraÃ§Ã£o dos botÃµes de modo
                const modes = ['flip', 'quiz', 'typing'];
                modes.forEach(mode => {
                    document.getElementById(`mode-${mode}`).addEventListener('click', () => {
                        modes.forEach(m => {
                            document.getElementById(`mode-${m}`).classList.toggle('bg-accent', m === mode);
                            document.getElementById(`mode-${m}`).classList.toggle('text-white', m === mode);
                            document.getElementById(`mode-${m}`).classList.toggle('bg-white', m !== mode);
                            document.getElementById(`mode-${m}`).classList.toggle('border-stone-300', m !== mode);
                            document.getElementById(`${m}-mode`).classList.toggle('hidden', m !== mode);
                        });
                        
                        // Iniciar o modo selecionado
                        if (mode === 'flip') setupFlipMode(vocab, sourceId);
                        else if (mode === 'quiz') setupQuizMode(vocab, sourceId);
                        else if (mode === 'typing') setupTypingMode(vocab, sourceId);
                    });
                });
                
                // Iniciar com o modo de virar flashcards
                setupFlipMode(vocab, sourceId);
                
                // Configurar mudanÃ§a de direÃ§Ã£o
                document.getElementById('study-direction').addEventListener('change', () => {
                    // Reiniciar o modo ativo
                    const activeMode = modes.find(m => !document.getElementById(`${m}-mode`).classList.contains('hidden'));
                    if (activeMode === 'flip') setupFlipMode(vocab, sourceId);
                    else if (activeMode === 'quiz') setupQuizMode(vocab, sourceId);
                    else if (activeMode === 'typing') setupTypingMode(vocab, sourceId);
                });
            }
            
            // Configurar modo de virar flashcards
            function setupFlipMode(vocab, sourceId) {
                let currentIndex = 0;
                const card = document.getElementById('flashcard');
                const front = document.getElementById('flashcard-front');
                const back = document.getElementById('flashcard-back');
                const counter = document.getElementById('card-counter');
                const exampleEl = document.getElementById('example-sentence');
                const direction = document.getElementById('study-direction').value;
                const autoplay = document.getElementById('autoplay-toggle').checked;
                
                function updateCard() {
                    card.classList.remove('is-flipped');
                    setTimeout(() => {
                        const word = vocab[currentIndex];
                        
                        // Gerar frase de exemplo
                        const example = generateExampleSentence(word);
                        
                        // Atualizar conteÃºdo com base na direÃ§Ã£o
                        if (direction === 'char-to-viet') {
                            front.innerHTML = `<div class="flex flex-col items-center">
                                <p class="text-5xl font-extrabold text-stone-800">${word.char}</p>
                                <p class="mt-2 text-stone-500">${word.pinyin}</p>
                            </div>`;
                            back.innerHTML = `<p class="text-3xl font-bold">${word.viet}</p>`;
                            
                            // Reproduzir Ã¡udio automaticamente
                            if (autoplay) {
                                setTimeout(() => playAudio(word.char), 500);
                            }
                        } 
                        else if (direction === 'viet-to-char') {
                            front.innerHTML = `<div class="flex flex-col items-center">
                                <p class="text-3xl font-bold text-stone-800">${word.viet}</p>
                            </div>`;
                            back.innerHTML = `<div class="flex flex-col items-center">
                                <p class="text-5xl font-extrabold">${word.char}</p>
                                <p class="mt-2">${word.pinyin}</p>
                            </div>`;
                        }
                        else if (direction === 'pinyin-to-char') {
                            front.innerHTML = `<div class="flex flex-col items-center">
                                <p class="text-3xl font-bold text-stone-800">${word.pinyin}</p>
                            </div>`;
                            back.innerHTML = `<div class="flex flex-col items-center">
                                <p class="text-5xl font-extrabold">${word.char}</p>
                                <p class="mt-2">${word.viet}</p>
                            </div>`;
                        }
                        
                        // Atualizar frase de exemplo
                        if (example) {
                            exampleEl.classList.remove('hidden');
                            exampleEl.innerHTML = example;
                        } else {
                            exampleEl.classList.add('hidden');
                        }
                        
                        counter.textContent = `${currentIndex + 1} / ${vocab.length}`;
                    }, 200);
                }

                card.onclick = () => {
                    card.classList.toggle('is-flipped');
                    // Reproduzir Ã¡udio ao virar para frente no modo Viet->Han
                    if (card.classList.contains('is-flipped') && direction === 'viet-to-char') {
                        setTimeout(() => playAudio(vocab[currentIndex].char), 300);
                    }
                };
                
                document.getElementById('prev-card').onclick = () => { 
                    currentIndex = (currentIndex - 1 + vocab.length) % vocab.length;
                    updateCard();
                };
                
                document.getElementById('next-card').onclick = () => { 
                    currentIndex = (currentIndex + 1) % vocab.length; 
                    updateCard();
                };
                
                // BotÃµes SRS
                document.getElementById('mark-hard').onclick = () => {
                    const word = vocab[currentIndex];
                    if (sourceId) {
                        const card = appState.srsData.cards.find(c => c.char === word.char && c.lessonId === sourceId);
                        if (card) updateSRSCard(card, false);
                    }
                    currentIndex = (currentIndex + 1) % vocab.length;
                    updateCard();
                };
                
                document.getElementById('mark-good').onclick = () => {
                    const word = vocab[currentIndex];
                    if (sourceId) {
                        const card = appState.srsData.cards.find(c => c.char === word.char && c.lessonId === sourceId);
                        if (card) updateSRSCard(card, true);
                    }
                    currentIndex = (currentIndex + 1) % vocab.length;
                    updateCard();
                };
                
                document.getElementById('mark-easy').onclick = () => {
                    const word = vocab[currentIndex];
                    if (sourceId) {
                        const card = appState.srsData.cards.find(c => c.char === word.char && c.lessonId === sourceId);
                        if (card) {
                            updateSRSCard(card, true);
                            // Aumentar mais um nÃ­vel para "fÃ¡cil"
                            if (card.level < SRS_INTERVALS.length - 1) {
                                card.level++;
                                const now = new Date();
                                card.nextReview = new Date(now.setDate(now.getDate() + SRS_INTERVALS[card.level])).getTime();
                                saveState();
                            }
                        }
                    }
                    currentIndex = (currentIndex + 1) % vocab.length;
                    updateCard();
                };
                
                updateCard();
            }
            
            // Gerar frase de exemplo com vocabulÃ¡rio
            function generateExampleSentence(word) {
                // Frases de exemplo para palavras comuns
                const examples = {
                    'æ­¡è¿': {
                        example: 'æ­¡è¿ä¾†åˆ°è‡ºç£ï¼',
                        translation: 'ChÃ o má»«ng Ä‘áº¿n ÄÃ i Loan!'
                    },
                    'å­¸æ ¡': {
                        example: 'æˆ‘çš„å­¸æ ¡åœ¨å±±ä¸Šã€‚',
                        translation: 'TrÆ°á»ng há»c cá»§a tÃ´i á»Ÿ trÃªn nÃºi.'
                    },
                    'å–œæ­¡': {
                        example: 'ä½ å–œæ­¡åƒä»€éº¼æ°´æœï¼Ÿ',
                        translation: 'Báº¡n thÃ­ch Äƒn loáº¡i trÃ¡i cÃ¢y nÃ o?'
                    },
                    'åƒ': {
                        example: 'æˆ‘æƒ³åƒç‰›è‚‰éºµã€‚',
                        translation: 'TÃ´i muá»‘n Äƒn mÃ¬ bÃ².'
                    },
                    'èªª': {
                        example: 'ä½ æœƒèªªä¸­æ–‡å—ï¼Ÿ',
                        translation: 'Báº¡n cÃ³ biáº¿t nÃ³i tiáº¿ng Trung khÃ´ng?'
                    },
                    'çœ‹': {
                        example: 'æˆ‘å€‘ä¸€èµ·çœ‹é›»å½±ã€‚',
                        translation: 'ChÃºng ta cÃ¹ng xem phim.'
                    }
                    // ThÃªm cÃ¡c tá»« khÃ¡c...
                };
                
                if (examples[word.char]) {
                    return `<p class="text-stone-800 mb-1">${examples[word.char].example}</p>
                            <p class="text-stone-600 text-sm">${examples[word.char].translation}</p>`;
                }
                return null;
            }

            function renderQuizView(lessonId) {
                const lesson = lessonsData.find(l => l.id === lessonId);
                if (!lesson) { switchView('lessons'); return; }
                mainContent.innerHTML = `
                    <div class="flex items-center mb-6">
                        <button onclick="window.app.switchView('lessonDetail', ${lessonId})" class="mr-2 p-2 rounded-full hover:bg-stone-200 transition">â€¹</button>
                        <h2 class="text-2xl md:text-3xl font-bold text-stone-800">Kiá»ƒm tra: ${lesson.title.split(':')[1].trim()}</h2>
                    </div>
                    <div id="quiz-main" class="max-w-2xl mx-auto"></div>`;

                const quizContainer = mainContent.querySelector('#quiz-main');
                const vocab = [...lesson.vocab];
                const questions = [];
                const numQuestions = Math.min(10, vocab.length);
                let currentQuestionIndex = 0;
                let score = 0;

                const shuffledVocab = vocab.sort(() => 0.5 - Math.random());
                for (let i = 0; i < numQuestions; i++) {
                    const questionVocab = shuffledVocab[i];
                    let options = [{ text: questionVocab.viet, correct: true }];
                    let otherOptions = lesson.vocab.filter(v => v.char !== questionVocab.char).sort(() => 0.5 - Math.random());
                    for (let j = 0; j < 3 && j < otherOptions.length; j++) {
                        options.push({ text: otherOptions[j].viet, correct: false });
                    }
                    questions.push({ char: questionVocab.char, pinyin: questionVocab.pinyin, options: options.sort(() => 0.5 - Math.random()) });
                }

                function renderQuestion() {
                    if (currentQuestionIndex >= questions.length) { renderQuizResult(); return; }
                    const q = questions[currentQuestionIndex];
                    let optionsHtml = '';
                    q.options.forEach(opt => { optionsHtml += `<button class="quiz-option block w-full text-left p-4 border-2 border-stone-200 rounded-lg mb-3 transition" data-correct="${opt.correct}">${opt.text}</button>`; });
                    quizContainer.innerHTML = `<div class="bg-white p-6 rounded-xl shadow-md"><div class="flex justify-between items-baseline mb-4"><p class="text-stone-600 font-semibold">CÃ¢u ${currentQuestionIndex + 1}/${questions.length}</p><p class="text-stone-500">Äiá»ƒm: ${score}</p></div><div class="text-center mb-6 bg-stone-100 p-8 rounded-lg"><p class="text-6xl font-extrabold text-stone-800">${q.char}</p><p class="text-xl text-stone-500 mt-2">${q.pinyin}</p></div><div id="options-container">${optionsHtml}</div></div>`;
                    quizContainer.querySelectorAll('.quiz-option').forEach(btn => btn.onclick = (e) => checkAnswer(e.target));
                }

                function checkAnswer(selectedBtn) {
                    quizContainer.querySelectorAll('.quiz-option').forEach(btn => btn.disabled = true);
                    if (selectedBtn.dataset.correct === 'true') { score++; selectedBtn.classList.add('correct'); } else { selectedBtn.classList.add('incorrect'); quizContainer.querySelector('[data-correct="true"]').classList.add('correct'); }
                    setTimeout(() => { currentQuestionIndex++; renderQuestion(); }, 1500);
                }

                function renderQuizResult() {
                    quizContainer.innerHTML = `<div class="bg-white p-8 rounded-xl shadow-md text-center"><h3 class="text-2xl font-bold mb-2">HoÃ n thÃ nh!</h3><p class="text-lg text-stone-600 mb-6">Äiá»ƒm sá»‘ cá»§a báº¡n: <span class="font-bold text-accent text-2xl">${score}/${questions.length}</span></p><button class="px-6 py-2 bg-accent text-white font-semibold rounded-lg hover:opacity-90 transition" onclick="window.app.renderQuizView(${lessonId})">LÃ m láº¡i</button><button class="ml-4 px-6 py-2 bg-stone-200 text-stone-800 font-semibold rounded-lg hover:bg-stone-300 transition" onclick="window.app.switchView('lessonDetail', ${lessonId})">Quay láº¡i bÃ i há»c</button></div>`;
                }
                renderQuestion();
            }
            
            function setupTabs() {
                const tabs = mainContent.querySelectorAll('.tab-btn');
                const vocabContent = mainContent.querySelector('#vocab-content');
                const grammarContent = mainContent.querySelector('#grammar-content');
                if(!tabs.length) return;
                
                tabs.forEach(tab => {
                    tab.addEventListener('click', () => {
                        tabs.forEach(t => {
                            t.classList.remove('border-accent', 'text-accent');
                            t.classList.add('border-transparent', 'text-stone-500');
                        });
                        tab.classList.add('border-accent', 'text-accent');
                        tab.classList.remove('border-transparent', 'text-stone-500');

                        if (tab.id === 'tab-vocab') {
                            vocabContent.classList.remove('hidden');
                            grammarContent.classList.add('hidden');
                        } else {
                            vocabContent.classList.add('hidden');
                            grammarContent.classList.remove('hidden');
                        }
                    });
                });
            }
            
            function setupAccordions() {
                mainContent.querySelectorAll('.accordion-toggle').forEach(button => {
                    button.addEventListener('click', () => {
                        const content = button.nextElementSibling;
                        const icon = button.querySelector('span');
                        if (content.style.maxHeight) {
                            content.style.maxHeight = null;
                            icon.style.transform = 'rotate(0deg)';
                        } else {
                            content.style.maxHeight = content.scrollHeight + "px";
                            icon.style.transform = 'rotate(180deg)';
                        }
                    });
                });
            }

            function toggleNotebookWord(button, fromNotebook = false) {
                const wordData = JSON.parse(button.dataset.word);
                const index = appState.notebookWords.findIndex(w => w.char === wordData.char && w.lessonId === wordData.lessonId);
                if (index > -1) {
                    appState.notebookWords.splice(index, 1);
                    button.classList.remove('text-yellow-500');
                    button.classList.add('text-stone-300');
                } else {
                    appState.notebookWords.push(wordData);
                    button.classList.add('text-yellow-500');
                    button.classList.remove('text-stone-300');
                }
                saveState();
                if (fromNotebook) renderNotebook();
            }

            function renderNotebook() {
                let contentHtml = `<h2 class="text-3xl font-bold text-stone-800 mb-6">Sá»• tay tá»« vá»±ng</h2>`;
                if (appState.notebookWords.length === 0) {
                    contentHtml += `<div class="bg-white p-6 rounded-xl text-center text-stone-500 shadow-sm border"><p>Sá»• tay cá»§a báº¡n Ä‘ang trá»‘ng.</p><p class="text-sm mt-2">Nháº¥n vÃ o ngÃ´i sao â­ bÃªn cáº¡nh tá»« vá»±ng Ä‘á»ƒ lÆ°u láº¡i Ä‘Ã¢y.</p></div>`;
                } else {
                    contentHtml += '<div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4">';
                    appState.notebookWords.forEach(word => {
                        contentHtml += `
                            <div class="bg-white p-4 rounded-xl shadow-sm border border-stone-200 flex justify-between items-start">
                                <div>
                                    <p class="text-xs text-stone-400">BÃ i ${word.lessonId}</p>
                                    <p class="text-2xl font-bold text-stone-800">${word.char}</p>
                                    <p class="text-stone-500">${word.pinyin}</p>
                                    <p class="mt-1 text-stone-600">${word.viet}</p>
                                </div>
                                <div class="flex flex-col items-center gap-2">
                                     <button class="play-audio-btn text-xl text-stone-400 hover:text-accent transition" data-char="${word.char}">ğŸ”Š</button>
                                     <button class="save-word-btn text-xl text-yellow-500 hover:text-yellow-400 transition" data-word='${JSON.stringify(word)}'>â­</button>
                                </div>
                            </div>`;
                    });
                    contentHtml += '</div>';
                }
                mainContent.innerHTML = contentHtml;
                mainContent.querySelectorAll('.play-audio-btn').forEach(btn => btn.addEventListener('click', (e) => playAudio(e.currentTarget.dataset.char)));
                mainContent.querySelectorAll('.save-word-btn').forEach(btn => btn.addEventListener('click', (e) => toggleNotebookWord(e.currentTarget, true)));
            }

            function renderWritingPractice() {
                mainContent.innerHTML = `
                    <div class="space-y-6">
                        <div>
                            <h2 class="text-3xl font-bold text-stone-800">Luyá»‡n viáº¿t chá»¯ HÃ¡n</h2>
                            <p class="text-stone-600 mt-1">DÃ¹ng chuá»™t hoáº·c ngÃ³n tay Ä‘á»ƒ táº­p viáº¿t theo kÃ½ tá»±.</p>
                        </div>
                        <div class="bg-white p-4 md:p-6 rounded-xl shadow-md border">
                            <div id="writing-char-display" class="text-center mb-4 bg-stone-100 rounded-lg py-8">
                                <p class="text-8xl font-serif text-stone-800" id="char-to-write"></p>
                            </div>
                            <canvas id="writing-canvas" class="w-full bg-stone-50 border-2 border-dashed border-stone-300 rounded-lg cursor-crosshair writing-canvas"></canvas>
                            <div class="flex justify-center items-center gap-2 sm:gap-4 mt-4 flex-wrap">
                                <button id="hint-btn" class="px-4 py-2 bg-stone-200 rounded-lg font-semibold hover:bg-stone-300 transition">Gá»£i Ã½</button>
                                <button id="clear-btn" class="px-4 py-2 bg-red-200 text-red-800 rounded-lg font-semibold hover:bg-red-300 transition">XÃ³a</button>
                                <button id="next-char-btn" class="px-4 py-2 bg-accent text-white rounded-lg font-semibold hover:opacity-90 transition">Tá»« tiáº¿p theo</button>
                            </div>
                        </div>
                    </div>`;
                setupWritingCanvas();
            }

            function setupWritingCanvas() {
                if (appState.writingPracticeChars.length === 0) {
                     appState.writingPracticeChars = lessonsData.flatMap(l => l.vocab.map(v => v.char));
                     appState.writingPracticeChars = [...new Set(appState.writingPracticeChars)]; // Remove duplicates
                }
                
                const canvas = document.getElementById('writing-canvas');
                if (!canvas) return;
                const charDisplay = document.getElementById('char-to-write');
                const hintBtn = document.getElementById('hint-btn');
                const clearBtn = document.getElementById('clear-btn');
                const nextBtn = document.getElementById('next-char-btn');
                const ctx = canvas.getContext('2d');
                
                let isDrawing = false;
                
                function setCanvasSize() {
                    canvas.width = canvas.offsetWidth;
                    canvas.height = canvas.offsetWidth * 0.75; // Maintain aspect ratio
                    ctx.strokeStyle = '#292524';
                    ctx.lineWidth = Math.max(5, canvas.width / 80);
                    ctx.lineCap = 'round';
                    ctx.lineJoin = 'round';
                }
                
                function showNextChar() {
                    appState.currentWritingCharIndex = Math.floor(Math.random() * appState.writingPracticeChars.length);
                    charDisplay.textContent = appState.writingPracticeChars[appState.currentWritingCharIndex];
                    clearCanvas();
                }

                function clearCanvas() {
                     ctx.clearRect(0, 0, canvas.width, canvas.height);
                }

                function showHint() {
                    clearCanvas();
                    ctx.save();
                    ctx.fillStyle = 'rgba(200, 200, 200, 0.5)';
                    ctx.font = `${canvas.height * 0.8}px serif`;
                    ctx.textAlign = 'center';
                    ctx.textBaseline = 'middle';
                    ctx.fillText(charDisplay.textContent, canvas.width / 2, canvas.height / 2);
                    ctx.restore();
                }

                const getPos = (e) => {
                    const rect = canvas.getBoundingClientRect();
                    const event = e.touches ? e.touches[0] : e;
                    return { x: event.clientX - rect.left, y: event.clientY - rect.top };
                };

                const startDrawing = (e) => { isDrawing = true; draw(e); };
                const stopDrawing = () => { isDrawing = false; ctx.beginPath(); };
                const draw = (e) => {
                    if (!isDrawing) return;
                    e.preventDefault();
                    let pos = getPos(e);
                    ctx.lineTo(pos.x, pos.y);
                    ctx.stroke();
                    ctx.beginPath();
                    ctx.moveTo(pos.x, pos.y);
                };
                
                setCanvasSize();
                window.addEventListener('resize', setCanvasSize);
                
                canvas.addEventListener('mousedown', startDrawing);
                canvas.addEventListener('mousemove', draw);
                canvas.addEventListener('mouseup', stopDrawing);
                canvas.addEventListener('mouseout', stopDrawing);
                canvas.addEventListener('touchstart', startDrawing, { passive: false });
                canvas.addEventListener('touchmove', draw, { passive: false });
                canvas.addEventListener('touchend', stopDrawing);

                clearBtn.addEventListener('click', clearCanvas);
                nextBtn.addEventListener('click', showNextChar);
                hintBtn.addEventListener('click', showHint);
                
                showNextChar();
            }

            function playAudio(text) {
                if ('speechSynthesis' in window) {
                    window.speechSynthesis.cancel();
                    const utterance = new SpeechSynthesisUtterance(text);
                    utterance.lang = 'zh-CN';
                    utterance.rate = 0.9;
                    window.speechSynthesis.speak(utterance);
                }
            }
            
            function renderOverviewChart() {
                const chartEl = document.getElementById('overview-chart');
                if(!chartEl) return;
                const ctx = chartEl.getContext('2d');
                const vocabCounts = lessonsData.map(lesson => lesson.vocab.length);
                const lessonLabels = lessonsData.map(lesson => `BÃ i ${lesson.id}`);
                if (chart) chart.destroy();
                chart = new Chart(ctx, { type: 'bar', data: { labels: lessonLabels, datasets: [{ label: 'Sá»‘ tá»« vá»±ng', data: vocabCounts, backgroundColor: 'rgba(74, 124, 89, 0.6)', borderColor: 'rgba(74, 124, 89, 1)', borderWidth: 1, borderRadius: 5 }] }, options: { responsive: true, maintainAspectRatio: false, scales: { y: { beginAtZero: true } }, plugins: { legend: { display: false } } } });
            }

            function renderFillBlankQuestion(question) {
                return `
                    <p class="text-xl mb-4 text-center text-stone-700">${question.prompt}</p>
                    <div class="bg-stone-100 p-4 rounded-lg text-center mb-4">
                        <p class="text-xl">${question.sentenceBefore} 
                           <input type="text" class="fill-blank-input px-2 py-1 border rounded w-24 text-center" 
                                  placeholder="..." data-answer="${question.answer}"> 
                           ${question.sentenceAfter}</p>
                    </div>
                    <p class="text-center text-stone-600 mb-4">${question.hint || ''}</p>
                    <button id="check-fill-blank" class="w-full py-2 bg-accent text-white rounded-lg font-semibold">
                        Kiá»ƒm tra
                    </button>
                `;
            }

            // Sistema de estudo profundo de caracteres Hanzi
            // ------------------------------------------
            
            // Dados de componentes dos caracteres Hanzi mais comuns
            const hanziData = {
                'æ­¡': {
                    components: ['æ¬ ', 'é›š'],
                    etymology: 'Composto por "æ¬ " (faltar/respirar) e "é›š" (ave grande), significando originalmente "happy bird call/song", evoluiu para expressar sentimentos de alegria e celebraÃ§Ã£o.',
                    mnemonics: 'Imagine um grande pÃ¡ssaro (é›š) cantando com o bico aberto como se respirasse (æ¬ ), expressando alegria e boas-vindas.',
                    strokeCount: 17
                },
                'è¿': {
                    components: ['è¾¶', 'å¬'],
                    etymology: 'Combina o radical "è¾¶" (caminho) com "å¬" (levantar a cabeÃ§a), significando "ir para receber alguÃ©m" ou "ir ao encontro".',
                    mnemonics: 'Imagine alguÃ©m caminhando (è¾¶) com a cabeÃ§a erguida (å¬), ansioso para receber um convidado.',
                    strokeCount: 7
                },
                'å­¸': {
                    components: ['çˆ»', 'å†–', 'å­'],
                    etymology: 'O componente superior representa duas mÃ£os (çˆ») sob um teto (å†–), e o inferior (å­) representa uma crianÃ§a. Juntos simbolizam uma crianÃ§a aprendendo em um ambiente estruturado.',
                    mnemonics: 'Visualize uma crianÃ§a (å­) praticando com as mÃ£os (çˆ») sob o teto de uma escola (å†–) - o processo de aprendizagem!',
                    strokeCount: 16
                },
                'ä¸­': {
                    components: ['ä¸¨', 'å£'],
                    etymology: 'Representa um objeto passando pelo centro de algo, como uma flecha atravessando um alvo.',
                    mnemonics: 'Veja como uma linha vertical (ä¸¨) atravessa o centro da figura, mostrando algo no meio, central.',
                    strokeCount: 4
                },
                'æ–‡': {
                    components: ['æ–‡'],
                    etymology: 'Era originalmente um pictograma de um peito com marcas ou tatuagens rituais, evoluindo para representar padrÃµes, escrita e cultura.',
                    mnemonics: 'As linhas cruzadas parecem marcas decorativas ou escrita - representando literatura e civilizaÃ§Ã£o.',
                    strokeCount: 4
                },
                'å¥½': {
                    components: ['å¥³', 'å­'],
                    etymology: 'Combina "mulher" (å¥³) e "crianÃ§a" (å­), transmitindo a ideia de "bom" atravÃ©s da imagem de uma mÃ£e com seu filho.',
                    mnemonics: 'Uma mÃ£e (å¥³) com seu filho (å­) - uma imagem universal de bondade e beleza.',
                    strokeCount: 6
                },
                'æ°´': {
                    components: ['æ°´'],
                    etymology: 'Pictograma representando a Ã¡gua fluindo em um riacho, mostrando o fluxo com linhas ondulantes.',
                    mnemonics: 'As linhas assimÃ©tricas lembram ondas ou Ã¡gua em movimento.',
                    strokeCount: 4
                }
                // Poderia expandir com mais caracteres
            };
            
            // Visualizador detalhado de caracteres
            function renderHanziDetailView(char, lessonId) {
                const charData = hanziData[char.char] || {
                    components: [],
                    etymology: 'InformaÃ§Ã£o etimolÃ³gica nÃ£o disponÃ­vel para este caractere.',
                    mnemonics: 'MnemÃ´nico nÃ£o disponÃ­vel.',
                    strokeCount: '?'
                };
                
                mainContent.innerHTML = `
                    <div class="flex items-center mb-6">
                        <button onclick="window.app.switchView('lessonDetail', ${lessonId})" class="mr-2 p-2 rounded-full hover:bg-stone-200 transition">â€¹</button>
                        <h2 class="text-2xl md:text-3xl font-bold text-stone-800">AnÃ¡lise do caractere</h2>
                    </div>
                    
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                        <div class="md:col-span-2 bg-white rounded-xl shadow-md overflow-hidden">
                            <div class="p-6">
                                <div class="border-b pb-4 mb-4">
                                    <div class="flex justify-between items-start">
                                        <div>
                                            <h3 class="text-5xl font-bold text-stone-800 mb-2">${char.char}</h3>
                                            <p class="text-stone-500">${char.pinyin}</p>
                                            <p class="text-xl text-stone-700 mt-1">${char.viet}</p>
                                        </div>
                                        <div class="text-right">
                                            <p class="text-sm text-stone-500">NÃºmero de traÃ§os</p>
                                            <p class="text-2xl font-bold text-accent">${charData.strokeCount}</p>
                                        </div>
                                    </div>
                                </div>
                                
                                <h4 class="font-semibold text-lg mb-3">Componentes</h4>
                                <div class="flex gap-3 mb-4">
                                    ${charData.components.map(comp => `
                                        <div class="flex flex-col items-center">
                                            <div class="text-2xl border-2 border-stone-300 rounded-lg px-3 py-2 mb-1 bg-stone-50">${comp}</div>
                                        </div>
                                    `).join('')}
                                </div>
                                
                                <h4 class="font-semibold text-lg mb-2 mt-5">Etimologia</h4>
                                <p class="text-stone-700 mb-4">${charData.etymology}</p>
                                
                                <h4 class="font-semibold text-lg mb-2">MnemÃ´nico</h4>
                                <div class="bg-accent bg-opacity-10 p-4 rounded-lg mb-4">
                                    <p class="text-stone-700 italic">${charData.mnemonics}</p>
                                </div>
                                
                                <h4 class="font-semibold text-lg mb-3">Exemplos</h4>
                                <div class="bg-stone-100 p-4 rounded-lg">
                                    ${generateExampleSentence(char) || 
                                      `<p class="text-stone-600">Exemplos nÃ£o disponÃ­veis para este caractere.</p>`}
                                </div>
                            </div>
                        </div>
                        
                        <div class="bg-white rounded-xl shadow-md overflow-hidden h-fit">
                            <div class="p-6">
                                <h3 class="font-semibold text-lg mb-3">Ordem dos traÃ§os</h3>
                                <div id="stroke-order" class="border-2 border-stone-200 rounded-lg min-h-64 flex items-center justify-center mb-4">
                                    <div class="text-9xl flex items-center justify-center min-h-64 stroke-order-char">${char.char}</div>
                                </div>
                                
                                <button id="animate-strokes" class="w-full py-2 bg-accent text-white rounded-lg flex items-center justify-center gap-2 mb-3">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z" />
                                    </svg>
                                    Animar traÃ§os
                                </button>
                                
                                <button id="practice-writing" class="w-full py-2 bg-stone-200 text-stone-800 rounded-lg flex items-center justify-center gap-2">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z" />
                                    </svg>
                                    Praticar escrita
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="bg-white rounded-xl shadow-md mt-6 p-6">
                        <h3 class="font-semibold text-lg mb-3">Palavras relacionadas</h3>
                        <div id="related-words" class="grid grid-cols-2 md:grid-cols-4 gap-3">
                            <!-- Palavras relacionadas serÃ£o inseridas aqui -->
                            ${generateRelatedWords(char.char, lessonId)}
                        </div>
                    </div>
                `;
                
                setupHanziDetailInteractions(char);
            }
            
            function setupHanziDetailInteractions(char) {
                // Configurar animaÃ§Ã£o da ordem dos traÃ§os (simplificada)
                document.getElementById('animate-strokes').addEventListener('click', () => {
                    const strokeOrder = document.getElementById('stroke-order');
                    strokeOrder.innerHTML = `
                        <div class="text-center">
                            <p class="text-stone-600 mb-2">Animando traÃ§os...</p>
                            <div class="text-9xl text-stone-800 stroke-order-animation">${char.char}</div>
                        </div>
                    `;
                    
                    // Aqui poderÃ­amos implementar uma animaÃ§Ã£o real dos traÃ§os
                    // com uma biblioteca como HanziWriter
                });
                
                // Configurar botÃ£o de prÃ¡tica de escrita
                document.getElementById('practice-writing').addEventListener('click', () => {
                    // Redirecionar para o mÃ³dulo de prÃ¡tica de escrita com este caractere
                    // Por enquanto, apenas mostra uma mensagem
                    alert(`PrÃ¡tica de escrita para o caractere ${char.char} serÃ¡ implementada em breve!`);
                });
            }
            
            function generateRelatedWords(singleChar, currentLessonId) {
                // Esta funÃ§Ã£o encontra palavras que contÃªm o caractere especÃ­fico
                const relatedWords = [];
                
                // Procurar em todas as liÃ§Ãµes por palavras que contÃªm este caractere
                lessonsData.forEach(lesson => {
                    lesson.vocab.forEach(word => {
                        if (word.char.includes(singleChar) && word.char.length > 1) {
                            relatedWords.push({
                                ...word,
                                lessonId: lesson.id,
                                lessonTitle: lesson.title
                            });
                        }
                    });
                });
                
                // Limitar a 8 palavras relacionadas
                const limitedWords = relatedWords.slice(0, 8);
                
                // Se nÃ£o houver palavras relacionadas
                if (limitedWords.length === 0) {
                    return `<p class="text-stone-500 col-span-4 text-center py-4">Nenhuma palavra composta encontrada com este caractere.</p>`;
                }
                
                // Gerar HTML para cada palavra relacionada
                return limitedWords.map(word => `
                    <div class="border rounded-lg p-3 hover:border-accent hover:shadow-sm transition cursor-pointer" 
                         onclick="window.app.showWordDetail('${word.char}', ${word.lessonId})">
                        <p class="text-xl font-medium text-stone-800">${word.char}</p>
                        <p class="text-stone-500 text-sm">${word.pinyin}</p>
                        <p class="text-stone-600">${word.viet}</p>
                        ${word.lessonId !== currentLessonId ? `<p class="text-xs text-accent mt-1">BÃ i ${word.lessonId}</p>` : ''}
                    </div>
                `).join('');
            }
            
            // FunÃ§Ã£o para mostrar detalhes de uma palavra
            function showWordDetail(char, lessonId) {
                // Encontrar a palavra especÃ­fica
                const lesson = lessonsData.find(l => l.id === lessonId);
                if (!lesson) return;
                
                const word = lesson.vocab.find(w => w.char === char);
                if (!word) return;
                
                renderHanziDetailView(word, lessonId);
            }
            
            // Aprimorar a visualizaÃ§Ã£o da liÃ§Ã£o para incluir anÃ¡lise de caractere
            function renderVocabulary(lesson) {
                const vocabContainer = mainContent.querySelector('#vocab-content');
                let gridHtml = '<div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4">';
                lesson.vocab.forEach(word => {
                    const isSaved = appState.notebookWords.some(w => w.char === word.char && w.lessonId === lesson.id);
                    gridHtml += `
                        <div class="bg-white p-4 rounded-xl shadow-sm border border-stone-200 flex justify-between items-start">
                            <div>
                                <p class="text-2xl font-bold text-stone-800 cursor-pointer hover:text-accent transition" 
                                   onclick="window.app.showWordDetail('${word.char}', ${lesson.id})">${word.char}</p>
                                <p class="text-stone-500">${word.pinyin}</p>
                                <p class="mt-1 text-stone-600">${word.viet}</p>
                            </div>
                            <div class="flex flex-col items-center gap-2">
                                <button class="play-audio-btn text-xl text-stone-400 hover:text-accent transition" data-char="${word.char}">ğŸ”Š</button>
                                <button class="save-word-btn text-xl ${isSaved ? 'text-yellow-500' : 'text-stone-300'} hover:text-yellow-400 transition" data-word='${JSON.stringify({...word, lessonId: lesson.id})}'>â­</button>
                                <button class="show-detail-btn text-xl text-stone-300 hover:text-accent transition" onclick="window.app.showWordDetail('${word.char}', ${lesson.id})">â„¹ï¸</button>
                            </div>
                        </div>`;
                });
                gridHtml += '</div>';
                vocabContainer.innerHTML = gridHtml;
                vocabContainer.querySelectorAll('.play-audio-btn').forEach(btn => btn.addEventListener('click', (e) => playAudio(e.currentTarget.dataset.char)));
                vocabContainer.querySelectorAll('.save-word-btn').forEach(btn => btn.addEventListener('click', (e) => toggleNotebookWord(e.currentTarget)));
            }
            
            // Adicionar recurso de desafio diÃ¡rio de vocabulÃ¡rio
            function renderDailyChallenge() {
                // Selecionar 10 palavras aleatÃ³rias do conjunto total
                const allVocab = [];
                lessonsData.forEach(lesson => {
                    lesson.vocab.forEach(word => {
                        allVocab.push({
                            ...word,
                            lessonId: lesson.id
                        });
                    });
                });
                
                // Embaralhar e selecionar 10 palavras
                const shuffledVocab = [...allVocab].sort(() => Math.random() - 0.5);
                const dailyWords = shuffledVocab.slice(0, 10);
                
                mainContent.innerHTML = `
                    <div>
                        <h2 class="text-3xl font-bold text-stone-800 mb-2">Desafio diÃ¡rio</h2>
                        <p class="text-stone-600 mb-6">Aprenda 10 palavras novas hoje!</p>
                        
                        <div class="bg-white rounded-xl shadow-md p-6 mb-6">
                            <h3 class="text-xl font-semibold mb-4">Progresso de hoje</h3>
                            <div class="relative h-2 bg-stone-200 rounded-full mb-4">
                                <div id="daily-progress" class="absolute top-0 left-0 h-full bg-accent rounded-full" style="width: 0%"></div>
                            </div>
                            <p class="text-right text-sm text-stone-500">
                                <span id="completed-count">0</span>/10 palavras
                            </p>
                        </div>
                        
                        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4" id="daily-words-container">
                            ${dailyWords.map((word, index) => `
                                <div class="daily-word bg-white p-4 rounded-xl shadow-sm border border-stone-200" data-index="${index}">
                                    <div class="flex justify-between">
                                        <p class="text-2xl font-bold text-stone-800">${word.char}</p>
                                        <div class="flex gap-2">
                                            <button class="play-audio-btn text-xl text-stone-400 hover:text-accent transition" data-char="${word.char}">ğŸ”Š</button>
                                            <button class="mark-learned-btn text-xl text-stone-300 hover:text-green-500 transition">âœ“</button>
                                        </div>
                                    </div>
                                    <p class="text-stone-500">${word.pinyin}</p>
                                    <p class="mt-1 text-stone-600">${word.viet}</p>
                                    <p class="text-xs text-accent mt-2">BÃ i ${word.lessonId}</p>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                `;
                
                // Configurar os botÃµes de Ã¡udio
                document.querySelectorAll('.play-audio-btn').forEach(btn => {
                    btn.addEventListener('click', (e) => playAudio(e.currentTarget.dataset.char));
                });
                
                // Configurar os botÃµes de marcar como aprendido
                document.querySelectorAll('.mark-learned-btn').forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        const wordElement = e.currentTarget.closest('.daily-word');
                        wordElement.classList.add('border-green-400', 'bg-green-50');
                        e.currentTarget.classList.remove('text-stone-300', 'hover:text-green-500');
                        e.currentTarget.classList.add('text-green-500');
                        e.currentTarget.disabled = true;
                        
                        // Atualizar progresso
                        updateDailyProgress();
                    });
                });
                
                function updateDailyProgress() {
                    const learnedWords = document.querySelectorAll('.daily-word.border-green-400').length;
                    const progressBar = document.getElementById('daily-progress');
                    const completedCount = document.getElementById('completed-count');
                    
                    const percentage = (learnedWords / 10) * 100;
                    progressBar.style.width = `${percentage}%`;
                    completedCount.textContent = learnedWords;
                    
                    // Se completou tudo
                    if (learnedWords === 10) {
                        setTimeout(() => {
                            alert('ParabÃ©ns! VocÃª completou o desafio diÃ¡rio de hoje!');
                        }, 500);
                    }
                }
            }

            // Atualizar app.switchView para incluir novas visualizaÃ§Ãµes
            window.app = {
                switchView,
                renderQuizView,
                showWordDetail,
                renderDailyChallenge,
                renderEnhancedFlashcardView
            };
            
            // ... existing code ...

            init();
        });
    </script>
</body>
</html>
